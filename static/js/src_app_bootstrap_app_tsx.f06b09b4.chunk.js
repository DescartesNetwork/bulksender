(globalThis.webpackChunkbulk_sender=globalThis.webpackChunkbulk_sender||[]).push([["src_app_bootstrap_app_tsx"],{79937:(e,t,s)=>{"use strict";Object.defineProperty(t,"X$",{value:!0}),Object.defineProperty(t,"jY",{enumerable:!0,get:function(){return i.default}}),t.h0=void 0,Object.defineProperty(t,"ng",{enumerable:!0,get:function(){return a.default}});var n=o(s(59062)),r=o(s(65942)),i=o(s(17100)),a=o(s(89374));function o(e){return e&&e.__esModule?e:{default:e}}const l=[n.default,r.default];t.h0=l},35635:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Page:()=>be,__esModule:()=>ye.X$,logo:()=>ye.jY,panels:()=>ye.h0,readme:()=>ye.ng});var n=s(55754),r=s(47229),i=s(94751),a=s(41630),o=s(92950),l=s(95418),d=s(63805);const c={appId:"bulk_sender",url:"https://tuphan-dn.github.io/bulksender/index.js"},u={development:{...c},staging:{...c},production:{...c}},h={devnet:{node:d.f4,spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",bulksenderAddress:"FjkVzT6QJCQrgoZ8VoyAqysD5Mfa73ekpXWe9zDprWRA",fee:1e6,taxman:"8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D"},testnet:{node:d.f4,spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",bulksenderAddress:"",fee:1e6,taxman:""},mainnet:{node:d.f4,spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",bulksenderAddress:"8WB9yeJ946594RHtxdNoKbwC2y13yCwJCtSY1mAeLWu1",fee:1e6,taxman:"9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e"}},p={manifest:u[d.OB],sol:h[d.ef]};var m=s(34559),g=s(19289);let f;!function(e){e[e.None=0]="None",e[e.Estimating=1]="Estimating",e[e.Estimated=2]="Estimated",e[e.Sending=3]="Sending",e[e.Done=4]="Done"}(f||(f={}));const y="main",x={mintAddress:"",data:[],decimalized:!1,status:f.None},b=(0,g.createAsyncThunk)("main/setData",(async e=>({data:e,status:f.None}))),j=(0,g.createAsyncThunk)("main/setMintAddress",(async e=>({mintAddress:e,status:f.None}))),w=(0,g.createAsyncThunk)("main/setDecimalized",(async e=>({decimalized:e,status:f.None}))),k=(0,g.createAsyncThunk)("main/setStatus",(async e=>({status:e}))),v=(0,g.createSlice)({name:y,initialState:x,reducers:{},extraReducers:e=>{e.addCase(b.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(j.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(w.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(k.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer;var A=s(71256);class S extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";super(e),this.info=void 0,this.name=`Error: ${e}`,this.info={txId:t}}}const C=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.nodeUrl=void 0,this.connection=void 0,this.errorMapping=void 0,this.throwError=(e,t)=>{const s="Transaction failed";if(!e)throw new S(s,t);const n=e.InstructionError||[];if("string"==typeof n[1])throw new S(n[1],t);const{Custom:r}=n[1]||{};if("number"!==typeof r)throw new S(s,t);throw new S(this.errorMapping[r]||s,t)},this.sendTransaction=async e=>{const t=e.serialize(),s=await this.connection.sendRawTransaction(t,{skipPreflight:!0,preflightCommitment:"confirmed"}),{value:{err:n}}=await this.connection.confirmTransaction(s,"confirmed");return n?this.throwError(n,s):s},this.addRecentCommitment=async e=>{const{blockhash:t}=await this.connection.getLatestBlockhash("confirmed");return e.recentBlockhash=t,e},this.nodeUrl=e,this.errorMapping=t,this.connection=new A.Connection(this.nodeUrl,"confirmed")}},T=s(70320),I=["Invalid instruction","Incorrect program id","Operation overflowed","Invalid owner"];const P=class extends C{constructor(e,t,s,n){var r;if(super(n,I),r=this,this.bulksenderProgramId=void 0,this.spltProgramId=void 0,this.splataProgramId=void 0,this._splt=void 0,this.checkedTransfer=async(e,t,s,n)=>{if(!l.account.isAddress(t))throw new Error("Invalid destination address");if(!l.account.isAddress(s))throw new Error("Invalid mint address");const r=await n.getAddress(),i=l.account.fromAddress(r),a=await this._splt.deriveAssociatedAddress(r,s),o=await this._splt.deriveAssociatedAddress(t,s),d=l.account.fromAddress(a),c=l.account.fromAddress(t),u=l.account.fromAddress(o),h=l.account.fromAddress(s);let p=new A.Transaction;p=await this.addRecentCommitment(p);const m=new T.struct([{key:"code",type:"u8"},{key:"amount",type:"u64"}],{code:0,amount:e}),g=new A.TransactionInstruction({keys:[{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:A.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:this.spltProgramId,isSigner:!1,isWritable:!1},{pubkey:A.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:this.splataProgramId,isSigner:!1,isWritable:!1}],programId:this.bulksenderProgramId,data:m.toBuffer()});p.add(g),p.feePayer=i,p=await n.signTransaction(p);return{txId:await this.sendTransaction(p)}},this.buildCheckedBulkTransferTransaction=async function(e,t,s,n,i,a){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!l.account.isAddress(a))throw new Error(`Invalid taxman address: ${a}`);for(const r of t)if(!l.account.isAddress(r))throw new Error(`Invalid destination address: ${r}`);for(const r of e)if(!r)throw new Error(`Invalid amount: ${r}`);if(!l.account.isAddress(s))throw new Error("Invalid mint address");if(e.length!==t.length)throw new Error(`The number of amounts and the number of addresses are unmatcher (${e.length}, ${t.length})`);const d=await n.getAddress(),c=l.account.fromAddress(d),u=await r._splt.deriveAssociatedAddress(d,s),h=l.account.fromAddress(u),p=l.account.fromAddress(s);let m=new A.Transaction;o||(m=await r.addRecentCommitment(m));const g=new T.struct([{key:"code",type:"u8"},{key:"num_txs",type:"u32"},{key:"amounts",type:`[u64;${e.length}]`}],{code:1,num_txs:e.length,amounts:e});let f=[{pubkey:c,isSigner:!0,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:A.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r.spltProgramId,isSigner:!1,isWritable:!1},{pubkey:A.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.splataProgramId,isSigner:!1,isWritable:!1}];for(const b of t){const e=await r._splt.deriveAssociatedAddress(b,s),t=l.account.fromAddress(b),n=l.account.fromAddress(e);f.push({pubkey:t,isSigner:!1,isWritable:!1}),f.push({pubkey:n,isSigner:!1,isWritable:!0})}const y=new A.TransactionInstruction({keys:f,programId:r.bulksenderProgramId,data:g.toBuffer()});m.add(y);const x=A.SystemProgram.transfer({fromPubkey:c,toPubkey:new A.PublicKey(a),lamports:i});return m.add(x),m.feePayer=c,m},this.simulateBulkTransfer=async(e,t,s,n,r,i)=>{const a=await this.buildCheckedBulkTransferTransaction(e,t,s,n,r,i,!0),{value:{err:o}}=await this.connection.simulateTransaction(a);return!o},this.checkedBulkTransfer=async(e,t,s,n,r,i)=>{let a=await this.buildCheckedBulkTransferTransaction(e,t,s,n,r,i);a=await n.signTransaction(a);return{txId:await this.sendTransaction(a)}},!l.account.isAddress(e))throw new Error("Invalid bulksender program address");if(!l.account.isAddress(t))throw new Error("Invalid SPL token program address");if(!l.account.isAddress(s))throw new Error("Invalid SPL associated token program address");this.bulksenderProgramId=l.account.fromAddress(e),this.spltProgramId=l.account.fromAddress(t),this.splataProgramId=l.account.fromAddress(s),this._splt=new l.SPLT(t,s,n)}},R=e=>{try{return BigInt(e)}catch(t){return BigInt(0)}};var E=s(45263);const{sol:{spltAddress:B,splataAddress:N,bulksenderAddress:W,node:_,taxman:D,fee:O}}=p,L=e=>{let{disabled:t=!1,onChange:s=(()=>{})}=e;const[r,l]=(0,o.useState)(0),[d,c]=(0,o.useState)([]),u=(0,n.useDispatch)(),h=(0,n.useSelector)((e=>e.main.data)),p=(0,n.useSelector)((e=>e.main.mintAddress)),g=(0,n.useSelector)((e=>e.main.status)),y=(0,o.useCallback)((async()=>{const{sentre:{wallet:e}}=window;if(!e)return c([]);await u(k(f.Estimating));const t=new P(W,B,N,_);let s=[...h];const n=[[]];for(;s.length;){const[i,a]=s.shift(),o=[...n[n.length-1],[i,a]];await(0,m.sA)(250);let d=!1;try{d=await t.simulateBulkTransfer(o.map((e=>{let[t,s]=e;return R(s)})),o.map((e=>{let[t,s]=e;return t})),p,e,O,D)}catch(r){d=!1}if(!d&&o.length<=1)return c([]),window.notify({type:"error",description:"Cannot handle the transaction. Make sure that your SOL balance is enough to pay fees."}),u(k(f.None));d?n[n.length-1]=o:n.push([[i,a]]),l(n.flat().length/h.length)}return c(n),u(k(f.Estimated))}),[h,u,p]);return(0,o.useEffect)((()=>(s(d),()=>l(0))),[d,s]),(0,E.jsxs)(i.Button,{type:"primary",icon:(0,E.jsx)(a.Z,{name:"send"}),onClick:y,disabled:t,loading:g===f.Estimating,block:!0,children:["Optimize ",Math.floor(100*r),"%"]})},Q=e=>{let{disabled:t=!1}=e;const s=(0,n.useDispatch)(),r=(0,n.useSelector)((e=>e.main.data)),l=(0,o.useCallback)((async()=>{const e=[];for(const[t,s]of r){const n=e.findIndex((e=>{let[s]=e;return s===t}));n>=0?e[n][1]=(R(e[n][1])+R(s)).toString():e.push([t,s])}await s(b(e))}),[r,s]);return(0,E.jsx)(i.Button,{type:"text",icon:(0,E.jsx)(a.Z,{name:"git-merge-outline"}),onClick:l,disabled:t,block:!0,children:"Merge"})},{sol:{spltAddress:q,splataAddress:M,bulksenderAddress:z,node:Z,taxman:$,fee:U}}=p,J=e=>{let{bulk:t=[],disabled:s=!1}=e;const[r,l]=(0,o.useState)(!1),d=(0,n.useSelector)((e=>e.main.mintAddress)),c=(0,o.useCallback)((async()=>{l(!0);const e=new P(z,q,M,Z);for(const n of t)try{const{sentre:{wallet:t}}=window;if(!t)return;const{txId:s}=await e.checkedBulkTransfer(n.map((e=>{let[t,s]=e;return R(s)})),n.map((e=>{let[t,s]=e;return t})),d,t,U,$);window.notify({type:"success",description:"Successfully transfer tokens. Click to view details.",onClick:()=>window.open((0,m.kU)(s),"_blank")})}catch(s){window.notify({type:"error",description:s.message})}return l(!1)}),[t,d]);return(0,E.jsx)(i.Button,{type:"primary",icon:(0,E.jsx)(a.Z,{name:"send"}),onClick:c,disabled:s,loading:r,block:!0,children:"Send"})},F=e=>{const[t,s]=(0,o.useState)(void 0),{getDecimals:n}=(0,r.useMint)(),i=(0,o.useCallback)((async()=>{try{const t=await n(e);return s(t)}catch(t){return s(void 0)}}),[e,n]);return(0,o.useEffect)((()=>{i()}),[i]),t},Y=()=>{const[e,t]=(0,o.useState)(!1),[s,d]=(0,o.useState)([]),c=(0,n.useSelector)((e=>e.main.data)),u=(0,n.useSelector)((e=>e.main.mintAddress)),h=(0,n.useSelector)((e=>e.main.status)),{accounts:p}=(0,r.useAccount)(),{wallet:{address:m,lamports:g}}=(0,r.useWallet)(),y=F(u)||0,x=(0,o.useMemo)((()=>.015*s.length),[s.length]),b=(0,o.useMemo)((()=>{if(!c||!c.length)return!1;return c.filter(((e,t)=>{let[s]=e;const n=c.findIndex((e=>{let[t]=e;return s===t}));return n!==t&&n>-1})).length>0}),[c]),j=(0,o.useCallback)((async()=>{if(!c||!c.length)return t(!0);if(!l.account.isAddress(m))return t("Please connect your wallet");if(!l.account.isAddress(u))return t("Please select a token to send");const e=c.filter((e=>{let[t,s]=e;return!l.account.isAddress(t)||!R(s)}));if(e.length>0)return t(!0);if(Number(g)/10**9<x)return t(`Not enough SOL to execute the transactions. It requires ${x} SOL at least.`);const{sentre:{splt:s}}=window,n=await s.deriveAssociatedAddress(m,u),{amount:r}=p[n]||{amount:BigInt(0)},i=c.reduce(((e,t)=>{let[s,n]=t;return e+R(n)}),BigInt(0));return t(r<i&&`Not enough token balance. It requires ${l.utils.undecimalize(i,y)} tokens over your balance, ${l.utils.undecimalize(r,y)} tokens.`)}),[c,u,p,m,g,x,y]);return(0,o.useEffect)((()=>{j()}),[j]),(0,E.jsxs)(i.Row,{gutter:[16,16],children:[(0,E.jsx)(i.Col,{span:24,children:"string"===typeof e?(0,E.jsxs)(i.Space,{children:[(0,E.jsx)(a.Z,{name:"information-circle-outline",style:{color:"#F2323F"}}),(0,E.jsx)(i.Typography.Text,{type:"danger",children:e})]}):(0,E.jsxs)(i.Space,{children:[(0,E.jsx)(a.Z,{name:"information-circle-outline"}),(0,E.jsxs)(i.Typography.Text,{type:s.length?void 0:"secondary",children:["To send tokens to ",(0,E.jsx)("strong",{children:c.length})," address(es), you will need to sign ",(0,E.jsx)("strong",{children:s.length})," time(s) with the total estimated fee is ~",x," SOL."]})]})}),(0,E.jsx)(i.Col,{span:12,children:(0,E.jsx)(Q,{disabled:!b||!!e||[f.Estimated,f.Sending,f.Done].includes(h)})}),(0,E.jsx)(i.Col,{span:12,children:[f.None,f.Estimating].includes(h)?(0,E.jsx)(L,{disabled:!!e,onChange:d}):(0,E.jsx)(J,{bulk:s,disabled:!!e})})]})};var K=s(24656),V=s.n(K);const G=()=>{const[e,t]=(0,o.useState)(!1),s=(0,n.useDispatch)();return(0,E.jsx)(i.Row,{gutter:[24,24],children:(0,E.jsx)(i.Col,{span:24,style:{marginBottom:16},children:(0,E.jsx)(i.Upload.Dragger,{accept:".csv,.txt",beforeUpload:async e=>(t(!0),s(w(!1)),s(b(await(e=>new Promise(((t,s)=>V().parse(e,{skipEmptyLines:!0,complete:e=>{let{data:s}=e;return t(s)}}))))(e))),t(!1),!1),onRemove:async()=>(t(!0),s(b([])),t(!1),!0),maxCount:1,children:(0,E.jsxs)(i.Space,{direction:"vertical",size:"large",align:"center",children:[(0,E.jsx)(i.Typography.Title,{level:3,children:"Click or Drop file to upload"}),(0,E.jsxs)(i.Typography.Text,{children:["The accepted file types are ",(0,E.jsx)("code",{children:".csv"}),", ",(0,E.jsx)("code",{children:".txt"}),"."]}),(0,E.jsx)(i.Button,{type:"primary",icon:(0,E.jsx)(a.Z,{name:"cloud-upload-outline"}),loading:e,children:"Upload"})]})})})})},H=[void 0],X=e=>{let{mintAddress:t,size:s=24,icon:n=(0,E.jsx)(a.Z,{name:"diamond-outline"}),reversed:d=!1,...c}=e;const[u,h]=(0,o.useState)(H),{tokenProvider:p}=(0,r.useMint)(),{pools:m}=(0,r.usePool)(),g=(0,o.useCallback)((async e=>{const t=await p.findByAddress(e);if(null!==t&&void 0!==t&&t.logoURI)return t.logoURI}),[p]),f=(0,o.useCallback)((async()=>{if(!l.account.isAddress(t))return h(H);const e=Object.values(m||{}).find((e=>{let{mint_lpt:s}=e;return s===t}));if(e){const{mint_a:t,mint_b:s}=e,n=await Promise.all([t,s].map(g));return d&&n.reverse(),h(n)}const s=await g(t);return h([s])}),[t,d,g,m]);return(0,o.useEffect)((()=>{f()}),[f]),1===u.length?(0,E.jsx)(i.Avatar,{src:u[0],size:s,style:{backgroundColor:"#2D3355",border:"none"},...c,children:n}):(0,E.jsx)(i.Avatar.Group,{style:{display:"block",whiteSpace:"nowrap"},...c,children:u.map(((e,t)=>(0,E.jsx)(i.Avatar,{src:e,size:s,style:{backgroundColor:"#2D3355",border:"none"},children:n},t)))})},ee="Unknown Token",te=e=>{let{mintAddress:t,separator:s=" \u2022 ",reversed:n=!1}=e;const[i,a]=(0,o.useState)(ee),{tokenProvider:d}=(0,r.useMint)(),{pools:c}=(0,r.usePool)(),u=(0,o.useCallback)((async e=>{const t=await d.findByAddress(e);return null!==t&&void 0!==t&&t.name?t.name:ee}),[d]),h=(0,o.useCallback)((async()=>{if(!l.account.isAddress(t))return a(ee);const e=Object.values(c||{}).find((e=>{let{mint_lpt:s}=e;return s===t}));if(e){const{mint_a:t,mint_b:r}=e,i=await Promise.all([t,r].map(u));return n&&i.reverse(),a(`${i.join(s)} LP`)}const r=await u(t);return a(r)}),[t,n,u,c,s]);return(0,o.useEffect)((()=>{h()}),[h]),(0,E.jsx)("span",{children:i})},se="TOKN",ne=e=>{let{mintAddress:t,separator:s=" \u2022 ",reversed:n=!1}=e;const[i,a]=(0,o.useState)(se),{tokenProvider:d}=(0,r.useMint)(),{pools:c}=(0,r.usePool)(),u=(0,o.useCallback)((async e=>{const t=await d.findByAddress(e);return null!==t&&void 0!==t&&t.symbol?t.symbol:e.substring(0,4)}),[d]),h=(0,o.useCallback)((async()=>{if(!l.account.isAddress(t))return a(se);const e=Object.values(c||{}).find((e=>{let{mint_lpt:s}=e;return s===t}));if(e){const{mint_a:t,mint_b:r}=e,i=await Promise.all([t,r].map(u));return n&&i.reverse(),a(i.join(s))}const r=await u(t);return a(r)}),[t,n,u,c,s]);return(0,o.useEffect)((()=>{h()}),[h]),(0,E.jsx)("span",{children:i})};s(58421);s(53933);d.ef;const re=(e,t,s)=>l.account.isAddress(e)&&void 0!==t&&void 0!==s?{mintAddress:e,amount:t,decimals:s,balance:Number(l.utils.undecimalize(t,s))}:{amount:BigInt(0),decimals:0,balance:0},ie=e=>{const{wallet:{address:t,lamports:s}}=(0,r.useWallet)(),{accounts:n}=(0,r.useAccount)(),{amount:i,mint:a}=n[e]||{},o=F(a)||0;return l.account.isAddress(t)&&l.account.isAddress(e)?e===t?re(l.DEFAULT_EMPTY_ADDRESS,s,9):re(a,i,o):re()},ae=()=>{const e=(0,n.useDispatch)(),t=(0,n.useSelector)((e=>e.main.mintAddress)),{accounts:s}=(0,r.useAccount)(),{balance:a}=(e=>{const[t,s]=(0,o.useState)(""),{wallet:{address:n}}=(0,r.useWallet)(),i=ie(t);return(0,o.useEffect)((()=>{(async()=>{if(!l.account.isAddress(n)||!l.account.isAddress(e))return s("");const{sentre:{splt:t}}=window;try{const r=await t.deriveAssociatedAddress(n,e);s(r)}catch(r){return s("")}})()})),i})(t);return(0,E.jsx)(i.Card,{children:(0,E.jsxs)(i.Row,{gutter:[16,16],children:[(0,E.jsx)(i.Col,{span:24,children:(0,E.jsx)(i.Select,{size:"large",placeholder:"Select token",style:{width:"100%"},onChange:t=>e(j(t)),children:Object.values(s).map(((e,t)=>{let{mint:s}=e;return(0,E.jsx)(i.Select.Option,{value:s,children:(0,E.jsxs)(i.Space,{align:"center",children:[(0,E.jsx)(X,{mintAddress:s}),(0,E.jsx)(i.Typography.Text,{type:"secondary",children:(0,E.jsx)(ne,{mintAddress:s})}),(0,E.jsx)(i.Typography.Text,{children:(0,E.jsx)(te,{mintAddress:s})})]})},t)}))})}),(0,E.jsx)(i.Col,{span:24,children:(0,E.jsxs)(i.Space,{children:[(0,E.jsx)(i.Typography.Text,{type:"secondary",children:"Balance:"}),(0,E.jsx)(i.Typography.Text,{children:(0,m.uR)(a).format("0,0.[0000]")}),(0,E.jsx)(i.Typography.Text,{children:(0,E.jsx)(ne,{mintAddress:t})})]})})]})})},oe=e=>{let{index:t,accountAddress:s,amount:r}=e;const o=(0,n.useDispatch)(),d=(0,n.useSelector)((e=>e.main.data)),c=(0,n.useSelector)((e=>e.main.mintAddress)),u=F(c)||0,h=l.account.isAddress(s)?R(r)?"":"Invalid amount":"Invalid address",p=d.slice(0,t).findIndex((e=>{let[t]=e;return t===s})),m=p>=0?`Duplicated address to #${p}`:"",g=R(r)?l.utils.undecimalize(R(r),u):r;return(0,E.jsxs)(i.Row,{gutter:[16,8],children:[(0,E.jsx)(i.Col,{span:24,children:(0,E.jsxs)(i.Row,{gutter:[16,8],align:"middle",wrap:!1,children:[(0,E.jsx)(i.Col,{children:(0,E.jsxs)(i.Typography.Text,{type:"secondary",children:["#",t+1]})}),(0,E.jsx)(i.Col,{span:12,children:(0,E.jsx)(i.Tooltip,{title:s,children:(0,E.jsx)(i.Typography.Text,{ellipsis:!0,children:s})})}),(0,E.jsx)(i.Col,{flex:"auto",children:(0,E.jsxs)(i.Space,{children:[(0,E.jsx)(i.Typography.Text,{children:g}),(0,E.jsx)(i.Typography.Text,{children:(0,E.jsx)(ne,{mintAddress:c})})]})}),(0,E.jsx)(i.Col,{children:(0,E.jsxs)(i.Space,{align:"center",children:[m?(0,E.jsx)(i.Tooltip,{title:m,children:(0,E.jsx)(a.Z,{name:"alert-circle-outline",style:{color:"#FCB017"}})}):null,h?(0,E.jsx)(i.Tooltip,{title:h,children:(0,E.jsx)(a.Z,{name:"warning-outline",style:{color:"#F2323F"}})}):null,(0,E.jsx)(i.Button,{type:"text",icon:(0,E.jsx)(a.Z,{name:"trash-outline"}),onClick:()=>(e=>{const t=[...d];return t.splice(e,1),o(b(t))})(t)})]})})]})}),(0,E.jsx)(i.Col,{span:24,children:(0,E.jsx)(i.Divider,{style:{margin:0}})})]})},le=()=>{const[e,t]=(0,o.useState)(""),[s,r]=(0,o.useState)(""),d=(0,n.useSelector)((e=>e.main.data)),c=(0,n.useSelector)((e=>e.main.mintAddress)),u=F(c)||0,h=(0,n.useDispatch)(),p=(0,o.useMemo)((()=>!(!l.account.isAddress(e)||!Number(s))),[e,s]),m=(0,o.useCallback)((async()=>{if(!l.account.isAddress(e))return window.notify({type:"warning",description:"Invalid address"});if(!Number(s))return window.notify({type:"warning",description:"Invalid amount"});const n=[...d];n.push([e,l.utils.decimalize(s,u).toString()]),await h(b(n)),await t(""),await r("")}),[e,s,d,u,h]);return(0,E.jsxs)(i.Row,{gutter:[16,8],align:"middle",wrap:!1,children:[(0,E.jsx)(i.Col,{span:12,children:(0,E.jsx)(i.Input,{placeholder:"Address",value:e,onChange:e=>t(e.target.value||"")})}),(0,E.jsx)(i.Col,{flex:"auto",children:(0,E.jsx)(i.InputNumber,{placeholder:"Amount",value:s,onChange:e=>r(e),stringMode:!0,type:"number",controls:!1,style:{width:"100%"}})}),(0,E.jsx)(i.Col,{children:(0,E.jsx)(i.Button,{type:"primary",icon:(0,E.jsx)(a.Z,{name:"add-outline"}),onClick:m,disabled:!p})})]})},de=()=>{const e=(0,n.useDispatch)(),t=(0,n.useSelector)((e=>e.main.data)),s=(0,n.useSelector)((e=>e.main.decimalized)),r=(0,n.useSelector)((e=>e.main.mintAddress)),a=F(r)||0;return(0,E.jsxs)(i.Row,{gutter:[8,8],justify:"end",align:"middle",children:[(0,E.jsx)(i.Col,{children:(0,E.jsx)(i.Typography.Text,{children:"With Decimals?"})}),(0,E.jsx)(i.Col,{children:(0,E.jsx)(i.Switch,{checked:s,onChange:async s=>{const n=t.map((e=>{let[t,n]=e;return[t,s?l.utils.decimalize(n,a).toString():l.utils.undecimalize(R(n),a)]}));await e(w(s)),await e(b(n))},checkedChildren:a,unCheckedChildren:a,disabled:!a})})]})},ce=()=>{const e=(0,n.useSelector)((e=>e.main.data));return(0,E.jsxs)(i.Row,{gutter:[16,16],children:[(0,E.jsx)(i.Col,{span:24,children:(0,E.jsx)(de,{})}),(0,E.jsx)(i.Col,{span:24,children:(0,E.jsx)(i.Card,{bodyStyle:{padding:16,height:384},className:"scrollbar",children:(0,E.jsxs)(i.Row,{gutter:[8,8],children:[e.length?null:(0,E.jsx)(i.Col,{span:24,children:(0,E.jsx)(i.Typography.Text,{type:"secondary",children:"No Data"})}),e.map(((e,t)=>{let[s,n]=e;return(0,E.jsx)(i.Col,{span:24,children:(0,E.jsx)(oe,{index:t,accountAddress:s,amount:n})},s+t)})),(0,E.jsx)(i.Col,{span:24,children:(0,E.jsx)(le,{})}),(0,E.jsx)(i.Col,{span:24})]})})})]})},ue=()=>(0,E.jsxs)(i.Row,{gutter:[24,24],justify:"center",children:[(0,E.jsx)(i.Col,{span:24,style:{maxWidth:1200},children:(0,E.jsxs)(i.Row,{gutter:[24,24],children:[(0,E.jsx)(i.Col,{span:24,children:(0,E.jsx)(i.Typography.Title,{level:3,children:"Solana Bulk Sender"})}),(0,E.jsx)(i.Col,{xs:24,md:12,children:(0,E.jsxs)(i.Row,{gutter:[24,24],children:[(0,E.jsx)(i.Col,{span:24,children:(0,E.jsx)(i.Card,{onClick:()=>window.open("https://hub.sentre.io/app/lightning_tunnel?autoInstall=true","_blank"),hoverable:!0,children:(0,E.jsxs)(i.Typography.Text,{children:[(0,E.jsx)(a.Z,{name:"information-circle-outline"})," If you plan to do Airdrops (or Retroactives, Vesting, Distributions), we highly recommend"," ",(0,E.jsx)("span",{style:{color:"#328f62"},children:"Lightning Tunnel"})," ","to effectively save transaction fees."]})})}),(0,E.jsx)(i.Col,{span:24,children:(0,E.jsx)(ae,{})}),(0,E.jsx)(i.Col,{span:24,children:(0,E.jsx)(G,{})})]})}),(0,E.jsx)(i.Col,{xs:24,md:12,children:(0,E.jsxs)(i.Row,{gutter:[24,24],children:[(0,E.jsx)(i.Col,{span:24,children:(0,E.jsx)(ce,{})}),(0,E.jsx)(i.Col,{span:24,children:(0,E.jsx)(Y,{})})]})})]})}),(0,E.jsx)(i.Col,{span:24})]});var he=s(48744),pe=s.n(he),me=s(97429).Buffer;BigInt.prototype.toJSON=function(){return this.toString()};const ge={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e||e instanceof A.PublicKey||e instanceof pe()||me.isBuffer(e)}},fe=(0,g.configureStore)({middleware:e=>e(ge),devTools:!1,reducer:{main:v}});var ye=s(79937);const{manifest:{appId:xe}}=p,be=()=>(0,E.jsx)(r.UIProvider,{appId:xe,antd:{prefixCls:xe},children:(0,E.jsx)(r.WalletProvider,{children:(0,E.jsx)(r.AccountProvider,{children:(0,E.jsx)(r.MintProvider,{children:(0,E.jsx)(r.PoolProvider,{children:(0,E.jsx)(n.Provider,{store:fe,children:(0,E.jsx)(ue,{})})})})})})})},57452:()=>{"use strict";const e={ttl:3e4},t={limit:{calls:10,time:1e3},cache:e};class s{constructor(e){this.key="",this.resolveQueue=[],this.rejectQueue=[],this.key=e}add(e,t){this.resolveQueue.push(e),this.rejectQueue.push(t)}resolves(e){for(;this.resolveQueue.length>0;){this.resolveQueue.shift()(e)}}rejects(e){for(;this.rejectQueue.length>0;){this.rejectQueue.shift()(e)}}}class n{static set(t,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;this.mapCache.set(t,s),setTimeout((()=>{this.mapCache.delete(t)}),n.ttl)}static get(e){return this.mapCache.get(e)}}n.mapCache=new Map;class r{static getSingleFlight(e){const t=JSON.stringify(e);if(this.mapInstance.has(t)){const e=this.mapInstance.get(t);if(e)return e}let s=new i(e);return this.mapInstance.set(t,s),s}static async load(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===typeof e&&(e=JSON.stringify(e));let i=r.getSingleFlight(n);r.mapInstance.set(e,i);const a=new s(e);return i.load(a,t)}}r.mapInstance=new Map;class i{constructor(e){this.config=void 0,this.intervalRequest=void 0,this.timeLogs=[],this.mapRequestCalling=new Map,this.requestQueue=[],this.config=Object.assign(t,e)}async load(e,t){const s=n.get(e.key);if(s)return Promise.resolve(s);let r=!1,i=this.mapRequestCalling.get(e.key);return i||(i=e,r=!0,this.mapRequestCalling.set(i.key,i)),new Promise(((e,s)=>{if(!i)return s("Not found request!");i.add(e,s),r&&this.fetch(i,t)}))}fetch(e,t){if(!this.validateLimit())return this.addRequestQueue(e,t);this.createTimeLogs(),t().then((t=>{n.set(e.key,t,this.config.cache),e.resolves(t)})).catch((t=>{e.rejects(t)})).finally((()=>{this.mapRequestCalling.delete(e.key),this.fetchRequestQueue(t)}))}fetchRequestQueue(e){if(!this.validateLimit())return;const t=this.requestQueue.shift();t&&this.load(t,e),0===this.requestQueue.length&&this.intervalRequest&&clearInterval(this.intervalRequest)}addRequestQueue(e,t){var s;this.requestQueue.push(e),this.intervalRequest=setInterval((()=>{this.fetchRequestQueue(t)}),null===(s=this.config.limit)||void 0===s?void 0:s.time)}validateLimit(){return!0}createTimeLogs(){var e;if(!this.config.limit)return;const t=(new Date).getTime();this.timeLogs.push(t),this.timeLogs.length>(null===(e=this.config.limit)||void 0===e?void 0:e.calls)&&this.timeLogs.shift()}}},63805:(e,t,s)=>{"use strict";s.d(t,{Bv:()=>a,OB:()=>r,ef:()=>i,f4:()=>o});var n=s(53933);const r="production",i=(()=>{switch(n.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}})(),a=(()=>{switch(i){case"devnet":return 103;case"testnet":return 102;default:return 101}})(),o={devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com",mainnet:"development"===r?"https://api.mainnet-beta.solana.com":"https://solitary-autumn-water.solana-mainnet.quiknode.pro/dcbac9d444818a20ac583541dec35b44c6840888/"}[i]},53933:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const n="sentre",r=window.localStorage,i=e=>{try{return e?JSON.parse(e):null}catch(t){return null}},a={set:(e,t)=>{let s=i(r.getItem(n));s&&"object"===typeof s||(s={}),s[e]=t,r.setItem(n,JSON.stringify(s))},get:e=>{let t=i(r.getItem(n));return t&&"object"===typeof t?t[e]:null},clear:e=>{a.set(e,null)}},o=a},34559:(e,t,s)=>{"use strict";s.d(t,{kU:()=>l,sA:()=>o,uR:()=>d});var n=s(95418),r=s(16200),i=s.n(r),a=s(63805);s(57452);const o=e=>new Promise((t=>setTimeout(t,e))),l=e=>n.account.isAddress(e)?`https://solscan.io/account/${e}?cluster=${a.ef}`:`https://solscan.io/tx/${e}?cluster=${a.ef}`,d=e=>e?i()(e):i()("0")},89374:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/README.631f2b04a38660f9ec7f.md"},17100:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/logo.1e3475aabcdd9e1626aa.png"},59062:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/panel.6b76cca872cba442836f.png"},65942:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/preview.1dc7ab4f81b92a27dbf6.png"},46601:()=>{},89214:()=>{},85568:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=src_app_bootstrap_app_tsx.f06b09b4.chunk.js.map