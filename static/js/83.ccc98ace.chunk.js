(self.webpackChunkbulksender=self.webpackChunkbulksender||[]).push([[83],{84208:function(e,r,n){"use strict";n.r(r);var t=n(12181),a=n(45055),s=n(55754),c=n(78589),i=n(1413),o=n(45987),u=n(92950),l=n(95418),d=n(45263),p=["component"],f=function(e){var r=e.component,n=(0,o.Z)(e,p),t=(0,s.useSelector)((function(e){return e.wallet})).address,c=(0,u.useCallback)((function(e){var n=encodeURI(window.location.href.replace(window.location.origin,""));return l.account.isAddress(t)?(0,d.jsx)(r,(0,i.Z)({},e)):(0,d.jsx)(a.Redirect,{to:"/welcome?redirect="+n})}),[t,r]);return(0,d.jsx)(a.Route,(0,i.Z)((0,i.Z)({},n),{},{render:c}))},h=["name","className"],x=(0,u.forwardRef)((function(e,r){var n=e.name,t=e.className,a=(0,o.Z)(e,h),s=t?"anticon "+t:"anticon";return(0,d.jsx)("span",(0,i.Z)((0,i.Z)({className:s},a),{},{children:(0,d.jsx)("ion-icon",{ref:r,name:n})}))})),v=n(29439),w=n(15861),y=n(87757),g=n.n(y),m=n(76126),j=n(19289),b="sentre",k=window.localStorage,C=function(e){if(!e)return null;try{return JSON.parse(e)}catch(r){return null}},Z={set:function(e,r){var n=C(k.getItem(b));n&&"object"===typeof n||(n={}),n[e]=r,k.setItem(b,JSON.stringify(n))},get:function(e){var r=C(k.getItem(b));return r&&"object"===typeof r?r[e]:null},clear:function(e){Z.set(e,null)}},S=Z,A=function(){switch(S.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}}(),T=function(e){return S.set("network",e),window.location.reload()},I={spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},R={devnet:(0,i.Z)((0,i.Z)({},I),{},{node:"https://api.devnet.solana.com",chainId:103,senAddress:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",swapAddress:"4erFSLP7oBFSVC1t35jdxmbfxEhYCKfoM6XdG2BLR3UF",taxmanAddress:"8UaZw2jDhJzv5V53569JbCd3bD4BnyCfBH3sjwgajGS9",bulksenderAddress:"FjkVzT6QJCQrgoZ8VoyAqysD5Mfa73ekpXWe9zDprWRA"}),testnet:(0,i.Z)((0,i.Z)({},I),{},{node:"https://api.testnet.solana.com",chainId:102,senAddress:"",swapAddress:"",taxmanAddress:"",bulksenderAddress:""}),mainnet:(0,i.Z)((0,i.Z)({},I),{},{node:"https://api.mainnet-beta.solana.com",chainId:101,senAddress:"SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M",swapAddress:"SSW7ooZ1EbEognq5GosbygA3uWW1Hq1NsFq6TsftCFV",taxmanAddress:"9doo2HZQEmh2NgfT3Yx12M89aoBheycYqH1eaR5gKb3e",bulksenderAddress:""})},E=n(4942);var P=(0,E.Z)({},"bulksender",{url:"".concat("https://descartesnetwork.github.io/bulksender","/index.js"),appId:"bulksender",name:"My App",author:{name:"Sentre",email:"hi@sentre.io"},description:"A sample project for Sentre developers",verified:!1}),B={sol:R[A],register:{development:{extra:P,senreg:"https://descartesnetwork.github.io/senreg/register.json"},staging:{extra:P,senreg:"https://descartesnetwork.github.io/senreg/register.json"},production:{extra:{},senreg:"https://descartesnetwork.github.io/senreg/register.json"}}.production},D=function(){var e=(0,w.Z)(g().mark((function e(r){var n,t,a,s,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(n=B.sol).node,a=n.spltAddress,s=n.splataAddress,c=n.swapAddress,window.sentre={wallet:r,lamports:new l.Lamports(t),splt:new l.SPLT(a,s,t),swap:new l.Swap(c,a,s,t)};case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),K=function(){var e=(0,w.Z)(g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(r=window.sentre)&&void 0!==r&&r.wallet&&window.sentre.wallet.disconnect(),e.next=3,D(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O="wallet",W={visible:!1,address:"",lamports:BigInt(0)},M=(0,j.createAsyncThunk)("".concat(O,"/openWallet"),(0,w.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visible:!0});case 1:case"end":return e.stop()}}),e)})))),N=(0,j.createAsyncThunk)("".concat(O,"/closeWallet"),(0,w.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{visible:!1});case 1:case"end":return e.stop()}}),e)})))),z=(0,j.createAsyncThunk)("".concat(O,"/connectWallet"),function(){var e=(0,w.Z)(g().mark((function e(r){var n,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("Invalid wallet instance");case 2:return e.next=4,D(r);case 4:return e.next=6,r.getAddress();case 6:return n=e.sent,e.next=9,window.sentre.lamports.getLamports(n);case 9:return t=e.sent,e.abrupt("return",{address:n,lamports:BigInt(t),visible:!1});case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),L=(0,j.createAsyncThunk)("".concat(O,"/updateWallet"),function(){var e=(0,w.Z)(g().mark((function e(r){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.lamports,e.abrupt("return",{lamports:n});case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),F=(0,j.createAsyncThunk)("".concat(O,"/disconnectWallet"),(0,w.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))),U=(0,j.createSlice)({name:O,initialState:W,reducers:{},extraReducers:function(e){e.addCase(M.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(N.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(z.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(L.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(F.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)}))}}).reducer,V=n(15671),H=n(60136),q=n(27277),J=n(44967),_="sentre",G=window.sessionStorage,X=function(e){try{return e?JSON.parse(e):null}catch(r){return!1}},Y={set:function(e,r){var n=X(G.getItem(_));n&&"object"===typeof n||(n={}),n[e]=r,G.setItem(_,JSON.stringify(n))},get:function(e){var r=X(G.getItem(_));return r&&"object"===typeof r?r[e]:null},clear:function(e){Y.set(e,null)}},Q=Y,$=function e(r){var n=this;(0,V.Z)(this,e),this.walletType=void 0,this.getProvider=(0,w.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Wallet is not connected");case 1:case"end":return e.stop()}}),e)}))),this.getAddress=(0,w.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Wallet is not connected");case 1:case"end":return e.stop()}}),e)}))),this.signTransaction=function(){var e=(0,w.Z)(g().mark((function e(r){var t,a,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.rawSignTransaction(r);case 2:return t=e.sent,a=t.signature,s=t.publicKey,r.addSignature(s,a),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),this.rawSignTransaction=function(){var e=(0,w.Z)(g().mark((function e(r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Wallet is not connected");case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),this.signMessage=function(){var e=(0,w.Z)(g().mark((function e(r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Wallet is not connected");case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),this.verifySignature=function(){var e=(0,w.Z)(g().mark((function e(r,n,t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Wallet is not connected");case 1:case"end":return e.stop()}}),e)})));return function(r,n,t){return e.apply(this,arguments)}}(),this.disconnect=(0,w.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q.clear("WalletType"),e.next=3,n.getProvider();case 3:e.sent.disconnect();case 5:case"end":return e.stop()}}),e)}))),this.walletType=r,Q.set("WalletType",this.walletType)},ee=n(97429).Buffer,re=function(e){(0,H.Z)(n,e);var r=(0,q.Z)(n);function n(e){var t;return(0,V.Z)(this,n),(t=r.call(this,"SecretKey"))._setSecretKey=function(e){if(!e)throw new Error("Invalid secret key");Q.set("SecretKey",e)},t.getProvider=(0,w.Z)(g().mark((function e(){var r,n,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Q.get("SecretKey"),n=l.account.fromSecretKey(r)){e.next=4;break}throw new Error("Cannot get the keystore-based provider");case 4:return t={keypair:n,disconnect:function(){return Q.clear("SecretKey")}},e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),t.getAddress=(0,w.Z)(g().mark((function e(){var r,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProvider();case 2:return r=e.sent,n=r.keypair,e.abrupt("return",n.publicKey.toBase58());case 5:case"end":return e.stop()}}),e)}))),t.rawSignTransaction=function(){var e=(0,w.Z)(g().mark((function e(r){var n,a,s,c,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Please confirm to sign the traction!")){e.next=3;break}throw new Error("User rejects to sign the transaction");case 3:return e.next=5,t.getProvider();case 5:return n=e.sent,a=n.keypair,s=r.serializeMessage(),c=a.publicKey,i=J.sign.detached(s,a.secretKey),e.abrupt("return",{publicKey:c,signature:i});case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),t.signMessage=function(){var e=(0,w.Z)(g().mark((function e(r){var n,a,s,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("Message must be a non-empty string");case 2:if(window.confirm("Please confirm to sign the message! Message: ".concat(r))){e.next=5;break}throw new Error("User rejects to sign the message");case 5:return e.next=7,t.getProvider();case 7:return n=e.sent,a=n.keypair,s=ee.from(a.secretKey).toString("hex"),c=l.account.signMessage(r,s),e.abrupt("return",(0,i.Z)({},c));case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),t.verifySignature=function(){var e=(0,w.Z)(g().mark((function e(r,n,a){var s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a,e.t0){e.next=5;break}return e.next=4,t.getAddress();case 4:e.t0=e.sent;case 5:return a=e.t0,s=l.account.verifySignature(a,r,n),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(r,n,t){return e.apply(this,arguments)}}(),t._setSecretKey(e),t}return n}($),ne=re,te=n(97429).Buffer,ae=function(e){(0,H.Z)(n,e);var r=(0,q.Z)(n);function n(e,t){var a;return(0,V.Z)(this,n),(a=r.call(this,"SecretKey"))._setSecretKey=function(e,r){var n=l.account.fromKeystore(e,r);if(!n)throw new Error("Invalid ketstore or password");var t=te.from(n.secretKey).toString("hex");Q.set("SecretKey",t)},a.getProvider=(0,w.Z)(g().mark((function e(){var r,n,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Q.get("SecretKey"),n=l.account.fromSecretKey(r)){e.next=4;break}throw new Error("Cannot get the keystore-based provider");case 4:return t={keypair:n,disconnect:function(){return Q.clear("SecretKey")}},e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),a.getAddress=(0,w.Z)(g().mark((function e(){var r,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getProvider();case 2:return r=e.sent,n=r.keypair,e.abrupt("return",n.publicKey.toBase58());case 5:case"end":return e.stop()}}),e)}))),a.rawSignTransaction=function(){var e=(0,w.Z)(g().mark((function e(r){var n,t,s,c,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Please confirm to sign the traction!")){e.next=3;break}throw new Error("User rejects to sign the transaction");case 3:return e.next=5,a.getProvider();case 5:return n=e.sent,t=n.keypair,s=r.serializeMessage(),c=t.publicKey,i=J.sign.detached(s,t.secretKey),e.abrupt("return",{publicKey:c,signature:i});case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),a.signMessage=function(){var e=(0,w.Z)(g().mark((function e(r){var n,t,s,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("Message must be a non-empty string");case 2:if(window.confirm("Please confirm to sign the message! Message: ".concat(r))){e.next=5;break}throw new Error("User rejects to sign the message");case 5:return e.next=7,a.getProvider();case 7:return n=e.sent,t=n.keypair,s=te.from(t.secretKey).toString("hex"),c=l.account.signMessage(r,s),e.abrupt("return",(0,i.Z)({},c));case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),a.verifySignature=function(){var e=(0,w.Z)(g().mark((function e(r,n,t){var s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,e.t0){e.next=5;break}return e.next=4,a.getAddress();case 4:e.t0=e.sent;case 5:return t=e.t0,s=l.account.verifySignature(t,r,n),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(r,n,t){return e.apply(this,arguments)}}(),a._setSecretKey(e,t),a}return n}($),se=ae,ce=n(68532),ie=function(e){(0,H.Z)(n,e);var r=(0,q.Z)(n);function n(){var e;return(0,V.Z)(this,n),(e=r.call(this,"Coin98")).getProvider=(0,w.Z)(g().mark((function e(){var r,n,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(null===(r=window)||void 0===r?void 0:r.coin98)||{},t=n.sol){e.next=3;break}throw new Error("Wallet is not connected");case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),e.getAddress=(0,w.Z)(g().mark((function r(){var n,t,a,s;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getProvider();case 2:return n=r.sent,r.next=5,n.request({method:"sol_accounts"});case 5:if(r.t0=r.sent,r.t0){r.next=8;break}r.t0=[];case 8:if(t=r.t0,a=(0,v.Z)(t,1),s=a[0],l.account.isAddress(s)){r.next=13;break}throw new Error("There is no Solana account");case 13:return r.abrupt("return",s);case 14:case"end":return r.stop()}}),r)}))),e.rawSignTransaction=function(){var r=(0,w.Z)(g().mark((function r(n){var t,a,s,c,i,o;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getProvider();case 2:return t=r.sent,r.next=5,e.getAddress();case 5:return a=r.sent,s=l.account.fromAddress(a),n.feePayer=s,r.next=10,t.request({method:"sol_sign",params:[n]});case 10:return c=r.sent,i=c.signature,o=(0,ce.decode)(i),r.abrupt("return",{publicKey:s,signature:o});case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e.signMessage=function(){var r=(0,w.Z)(g().mark((function r(n){var t,a;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}throw new Error("Message must be a non-empty string");case 2:return r.next=4,e.getProvider();case 4:return t=r.sent,r.next=7,t.request({method:"sol_sign",params:[n]});case 7:return a=r.sent,r.abrupt("return",a);case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e.verifySignature=function(){var r=(0,w.Z)(g().mark((function r(n,t,a){var s;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=a,r.t0){r.next=5;break}return r.next=4,e.getAddress();case 4:r.t0=r.sent;case 5:return a=r.t0,r.next=8,l.account.verifySignature(a,n,t);case 8:return s=r.sent,r.abrupt("return",s);case 10:case"end":return r.stop()}}),r)})));return function(e,n,t){return r.apply(this,arguments)}}(),e}return n}($),oe=ie,ue=n(97429).Buffer,le=function(e){(0,H.Z)(n,e);var r=(0,q.Z)(n);function n(){var e;return(0,V.Z)(this,n),(e=r.call(this,"Phantom")).getProvider=(0,w.Z)(g().mark((function e(){var r,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=window,null!==(n=r.solana)&&void 0!==n&&n.isPhantom){e.next=3;break}throw new Error("Wallet is not connected");case 3:if(!n.isConnected){e.next=5;break}return e.abrupt("return",n);case 5:return n.connect(),e.next=8,new Promise((function(e){return n.on("connect",(function(){return e(n)}))}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),e.getAddress=(0,w.Z)(g().mark((function r(){var n,t;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getProvider();case 2:if(n=r.sent,t=n.publicKey.toString(),l.account.isAddress(t)){r.next=6;break}throw new Error("There is no Solana account");case 6:return r.abrupt("return",t);case 7:case"end":return r.stop()}}),r)}))),e.rawSignTransaction=function(){var r=(0,w.Z)(g().mark((function r(n){var t,a,s,c,i;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getProvider();case 2:return t=r.sent,r.next=5,e.getAddress();case 5:return a=r.sent,s=l.account.fromAddress(a),n.feePayer=s,r.next=10,t.signTransaction(n);case 10:return c=r.sent,i=c.signature,r.abrupt("return",{publicKey:s,signature:i});case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e.signMessage=function(){var r=(0,w.Z)(g().mark((function r(n){var t,a,s,c,i,o,u;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}throw new Error("Message must be a non-empty string");case 2:return r.next=4,e.getProvider();case 4:return t=r.sent,r.next=7,e.getAddress();case 7:return a=r.sent,s=(new TextEncoder).encode(n),r.next=11,t.signMessage(s,"utf8");case 11:return c=r.sent,i=c.signature,o=ue.from(i).toString("hex"),u={address:a,signature:o,message:n},r.abrupt("return",u);case 16:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e.verifySignature=function(){var r=(0,w.Z)(g().mark((function r(n,t,a){var s,c,i,o;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=a,r.t0){r.next=5;break}return r.next=4,e.getAddress();case 4:r.t0=r.sent;case 5:return a=r.t0,s=l.account.fromAddress(a),c=ue.from(n,"hex"),i=(new TextEncoder).encode(t),o=J.sign.detached.verify(i,c,s.toBuffer()),r.abrupt("return",o);case 11:case"end":return r.stop()}}),r)})));return function(e,n,t){return r.apply(this,arguments)}}(),e}return n}($),de=le,pe=n(12053),fe=n(97429).Buffer,he=function(e){(0,H.Z)(n,e);var r=(0,q.Z)(n);function n(){var e;(0,V.Z)(this,n),(e=r.call(this,"Sollet")).provider=void 0,e.getProvider=(0,w.Z)(g().mark((function r(){return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.provider.connected){r.next=3;break}return r.next=3,e.provider.connect();case 3:return r.abrupt("return",e.provider);case 4:case"end":return r.stop()}}),r)}))),e.getAddress=(0,w.Z)(g().mark((function r(){var n;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getProvider();case 2:if((n=r.sent).publicKey){r.next=5;break}throw new Error("Cannot connect to Sollet");case 5:return r.abrupt("return",n.publicKey.toBase58());case 6:case"end":return r.stop()}}),r)}))),e.rawSignTransaction=function(){var r=(0,w.Z)(g().mark((function r(n){var t,a,s,c,i;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getProvider();case 2:return t=r.sent,r.next=5,e.getAddress();case 5:return a=r.sent,s=l.account.fromAddress(a),n.feePayer=s,r.next=10,t.signTransaction(n);case 10:return c=r.sent,i=c.signature,r.abrupt("return",{publicKey:s,signature:i});case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e.signMessage=function(){var r=(0,w.Z)(g().mark((function r(n){var t,a,s,c,i,o,u;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}throw new Error("Message must be a non-empty string");case 2:return r.next=4,e.getProvider();case 4:return t=r.sent,r.next=7,e.getAddress();case 7:return a=r.sent,s=(new TextEncoder).encode(n),r.next=11,t.sign(s,"utf8");case 11:return c=r.sent,i=c.signature,o=fe.from(i).toString("hex"),u={address:a,signature:o,message:n},r.abrupt("return",u);case 16:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e.verifySignature=function(){var r=(0,w.Z)(g().mark((function r(n,t,a){var s,c,i,o;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=a,r.t0){r.next=5;break}return r.next=4,e.getAddress();case 4:r.t0=r.sent;case 5:return a=r.t0,s=l.account.fromAddress(a),c=fe.from(n,"hex"),i=(new TextEncoder).encode(t),o=J.sign.detached.verify(i,c,s.toBuffer()),r.abrupt("return",o);case 11:case"end":return r.stop()}}),r)})));return function(e,n,t){return r.apply(this,arguments)}}();var t=B.sol.node;return e.provider=new pe.Z("https://www.sollet.io",t),e}return n}($),xe=he,ve=n(71256),we=n(97429).Buffer,ye=function(e){(0,H.Z)(n,e);var r=(0,q.Z)(n);function n(){var e;return(0,V.Z)(this,n),(e=r.call(this,"Slope")).provider=void 0,e.getProvider=(0,w.Z)(g().mark((function r(){var n,t;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=window||{},t=n.Slope){r.next=3;break}throw new Error("Cannot connect to Slope");case 3:if(!e.provider){r.next=5;break}return r.abrupt("return",e.provider);case 5:return e.provider=new t,r.next=8,e.provider.connect();case 8:return r.abrupt("return",e.provider);case 9:case"end":return r.stop()}}),r)}))),e.getAddress=(0,w.Z)(g().mark((function r(){var n,t,a;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getProvider();case 2:return n=r.sent,r.next=5,n.connect();case 5:if(t=r.sent,(a=t.data).publicKey){r.next=9;break}throw new Error("Wallet is not connected");case 9:return r.abrupt("return",a.publicKey);case 10:case"end":return r.stop()}}),r)}))),e.rawSignTransaction=function(){var r=(0,w.Z)(g().mark((function r(n){var t,a,s,c,i,o,u;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getProvider();case 2:return t=r.sent,a=(0,ce.encode)(n.serializeMessage()),r.next=6,t.signTransaction(a);case 6:if(s=r.sent,c=s.msg,(i=s.data).publicKey){r.next=11;break}throw new Error(c);case 11:return o=new ve.PublicKey(i.publicKey),u=(0,ce.decode)(i.signature),r.abrupt("return",{publicKey:o,signature:u});case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),e.verifySignature=function(){var r=(0,w.Z)(g().mark((function r(n,t,a){var s,c,i,o,u;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=a,r.t0){r.next=5;break}return r.next=4,e.getAddress();case 4:r.t0=r.sent;case 5:return s=r.t0,c=l.account.fromAddress(s),i=we.from(n,"hex"),o=(new TextEncoder).encode(t),u=J.sign.detached.verify(o,i,c.toBuffer()),r.abrupt("return",u);case 11:case"end":return r.stop()}}),r)})));return function(e,n,t){return r.apply(this,arguments)}}(),e.provider=null,e}return n}($),ge=ye,me=function(){var e=(0,s.useDispatch)(),r=function(){var r=(0,w.Z)(g().mark((function r(){var n,t;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=window,n.coin98){r.next=3;break}return r.abrupt("return",window.notify({type:"warning",description:"Coin98 Wallet is not installed. If this is the first time you install Coin98 wallet, please restart your browser to complete the setup."}));case 3:return t=new oe,r.prev=4,r.next=7,e(z(t)).unwrap();case 7:r.next=12;break;case 9:return r.prev=9,r.t0=r.catch(4),r.abrupt("return",window.notify({type:"error",description:r.t0.message}));case 12:case"end":return r.stop()}}),r,null,[[4,9]])})));return function(){return r.apply(this,arguments)}}();return(0,d.jsx)(c.Card,{onClick:r,style:{cursor:"pointer"},bordered:!1,hoverable:!0,children:(0,d.jsxs)(c.Row,{gutter:[16,16],justify:"center",children:[(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Avatar,{size:64,shape:"square",src:m})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)("p",{style:{margin:0,textAlign:"center"},children:"Coin98"})})]})})},je=n(94312),be=function(){var e=(0,s.useDispatch)(),r=function(){var r=(0,w.Z)(g().mark((function r(){var n,t,a;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=window,null!==(t=n.solana)&&void 0!==t&&t.isPhantom){r.next=3;break}return r.abrupt("return",window.notify({type:"warning",description:"Phantom Wallet is not installed. If this is the first time you install Phantom wallet, please restart your browser to complete the setup."}));case 3:return a=new de,r.prev=4,r.next=7,e(z(a)).unwrap();case 7:r.next=12;break;case 9:return r.prev=9,r.t0=r.catch(4),r.abrupt("return",window.notify({type:"error",description:r.t0.message}));case 12:case"end":return r.stop()}}),r,null,[[4,9]])})));return function(){return r.apply(this,arguments)}}();return(0,d.jsx)(c.Card,{onClick:r,style:{cursor:"pointer"},bordered:!1,hoverable:!0,children:(0,d.jsxs)(c.Row,{gutter:[16,16],justify:"center",children:[(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Avatar,{size:64,shape:"square",src:je})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)("p",{style:{margin:0,textAlign:"center"},children:"Phantom"})})]})})},ke=n(4657),Ce=function(){var e=(0,s.useDispatch)(),r=function(){var r=(0,w.Z)(g().mark((function r(){var n;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=new xe,r.prev=1,r.next=4,e(z(n)).unwrap();case 4:r.next=9;break;case 6:return r.prev=6,r.t0=r.catch(1),r.abrupt("return",window.notify({type:"error",description:r.t0.message}));case 9:case"end":return r.stop()}}),r,null,[[1,6]])})));return function(){return r.apply(this,arguments)}}();return(0,d.jsx)(c.Card,{onClick:r,style:{cursor:"pointer"},bordered:!1,hoverable:!0,children:(0,d.jsxs)(c.Row,{gutter:[16,16],justify:"center",children:[(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Avatar,{size:64,shape:"square",src:ke})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)("p",{style:{margin:0,textAlign:"center"},children:"Sollet"})})]})})},Ze=n(18268),Se=n.n(Ze),Ae=function(e){var r=e.visible,n=void 0!==r&&r,t=e.onClose,a=void 0===t?function(){}:t,s=(0,u.useState)(""),i=(0,v.Z)(s,2),o=i[0],p=i[1],f=(0,u.useState)(null),h=(0,v.Z)(f,2),w=h[0],y=h[1];(0,u.useEffect)((function(){p(""),y(null)}),[n]),(0,u.useEffect)((function(){y(l.keystore.gen(o))}),[o]);return(0,d.jsx)(c.Modal,{visible:n,onCancel:a,closeIcon:(0,d.jsx)(x,{name:"close"}),footer:null,children:(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsxs)(c.Col,{span:24,children:[(0,d.jsx)(c.Typography.Title,{children:"New Keystore"}),(0,d.jsx)(c.Typography.Text,{children:"The password is used to encrypt your keystore. You will need this password to unlock your keystore later."})]}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Input.Password,{placeholder:"Password",value:o,onChange:function(e){return p(e.target.value||"")},iconRender:function(e){return e?(0,d.jsx)(x,{name:"eye-off"}):(0,d.jsx)(x,{name:"eye"})}})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Row,{gutter:[16,16],justify:"end",children:(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Button,{type:"primary",icon:(0,d.jsx)(x,{name:"cloud-download"}),onClick:function(){return w?(Se()(JSON.stringify(w),"senwallet-keystore-".concat(w.publicKey,".json")),a()):window.notify({type:"error",description:"Cannot download a empty keystore"})},disabled:!w||!w.publicKey,children:"Download"})})})})]})})},Te=function(){var e=(0,u.useState)(""),r=(0,v.Z)(e,2),n=r[0],t=r[1],a=(0,u.useState)(""),i=(0,v.Z)(a,2),o=i[0],l=i[1],p=(0,u.useState)(null),f=(0,v.Z)(p,2),h=f[0],y=f[1],m=(0,u.useState)(!1),j=(0,v.Z)(m,2),b=j[0],k=j[1],C=(0,u.useRef)(null),Z=(0,s.useDispatch)(),S=function(){var e=(0,w.Z)(g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return",window.notify({type:"warning",description:"Please upload your keystore"}));case 2:if(n){e.next=4;break}return e.abrupt("return",window.notify({type:"warning",description:"Please enter your password to unlock your wallet"}));case 4:return e.prev=4,r=new se(h,n),e.next=8,Z(z(r)).unwrap();case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",window.notify({type:"error",description:e.t0.message}));case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}();return(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Space,{align:"center",children:[(0,d.jsx)(x,{name:"document-lock"}),(0,d.jsxs)(c.Typography.Text,{children:["Keystore ( ",(0,d.jsx)(c.Typography.Link,{href:"https://solflare.com",target:"_blank",rel:"noopener",children:"SolFlare"})," ","compatible )"]})]})}),(0,d.jsxs)(c.Col,{xs:{span:24},md:{span:12},children:[(0,d.jsx)(c.Input,{placeholder:"Filename",value:o,suffix:(0,d.jsx)(c.Button,{type:"text",icon:(0,d.jsx)(x,{name:"cloud-upload"}),style:{marginRight:-8},onClick:function(){var e;return null===(e=C.current)||void 0===e?void 0:e.click()},children:"Upload"}),readOnly:!0}),(0,d.jsx)("input",{ref:C,type:"file",accept:"application/json",onChange:function(e){var r,n=null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.files,t=(0,v.Z)(n,1)[0];if(t){var a=new FileReader;a.readAsText(t),a.onloadend=function(){l(t.name),y(JSON.parse(a.result)||{})}}},style:{display:"none"}})]}),(0,d.jsx)(c.Col,{xs:{span:24},md:{span:12},children:(0,d.jsx)(c.Input,{placeholder:"Password",type:"password",value:n,onChange:function(e){return t(e.target.value||"")},suffix:(0,d.jsx)(c.Button,{type:"primary",onClick:S,icon:(0,d.jsx)(x,{name:"lock-open"}),style:{marginRight:-8}})})}),(0,d.jsx)(c.Col,{span:24,style:{marginTop:-8},children:(0,d.jsx)(c.Typography.Link,{onClick:function(){return k(!0)},children:(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(x,{name:"add-circle-outline"}),(0,d.jsx)("span",{children:"Create a keystore"})]})})}),(0,d.jsx)(Ae,{visible:b,onClose:function(){return k(!1)}})]})},Ie=n(97429).Buffer,Re=function(){var e=(0,u.useState)(""),r=(0,v.Z)(e,2),n=r[0],t=r[1],a=(0,s.useDispatch)(),i=function(){var e=(0,w.Z)(g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",window.notify({type:"warning",description:"Please enter your secret key"}));case 2:return r=new ne(n),e.prev=3,e.next=6,a(z(r)).unwrap();case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",window.notify({type:"error",description:e.t0.message}));case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();return(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Space,{align:"center",children:[(0,d.jsx)(x,{name:"key"}),(0,d.jsx)(c.Typography.Text,{children:"Secret Key"})]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Input,{placeholder:"Secret Key",onChange:function(e){return t(e.target.value||"")},value:n,suffix:(0,d.jsx)(c.Button,{type:"primary",onClick:i,icon:(0,d.jsx)(x,{name:"lock-open"}),style:{marginRight:-8}})})}),(0,d.jsx)(c.Col,{span:24,style:{marginTop:-8},children:(0,d.jsx)(c.Typography.Link,{onClick:function(){var e=l.account.createAccount(),r=Ie.from(e.secretKey).toString("hex");return t(r)},children:(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(x,{name:"add-circle-outline"}),(0,d.jsx)("span",{children:"Create a secret key"})]})})})]})};var Ee=n.p+"static/media/slope.de08dadb3988dd770e2d0d58acf15a09.svg",Pe=function(){var e=(0,s.useDispatch)(),r=function(){var r=(0,w.Z)(g().mark((function r(){var n,t;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=window,n.Slope){r.next=3;break}return r.abrupt("return",window.notify({type:"warning",description:"Slope Wallet is not installed. If this is the first time you install Slope wallet, please restart your browser to complete the setup."}));case 3:return t=new ge,r.prev=4,r.next=7,e(z(t)).unwrap();case 7:r.next=12;break;case 9:return r.prev=9,r.t0=r.catch(4),r.abrupt("return",window.notify({type:"error",description:r.t0.message}));case 12:case"end":return r.stop()}}),r,null,[[4,9]])})));return function(){return r.apply(this,arguments)}}();return(0,d.jsx)(c.Card,{onClick:r,style:{cursor:"pointer"},bordered:!1,hoverable:!0,children:(0,d.jsxs)(c.Row,{gutter:[16,16],justify:"center",children:[(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Avatar,{size:64,shape:"square",src:Ee})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)("p",{style:{margin:0,textAlign:"center"},children:"Slope"})})]})})},Be=function(){var e=(0,u.useState)(!1),r=(0,v.Z)(e,2),n=r[0],t=r[1],a=(0,s.useSelector)((function(e){return e.wallet})).visible,i=(0,s.useDispatch)();return(0,d.jsx)(c.Modal,{visible:a,onCancel:function(){return i(N())},closeIcon:(0,d.jsx)(x,{name:"close"}),footer:null,children:(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Title,{level:5,children:"Wallet Connection"})}),(0,d.jsx)(c.Col,{xs:{span:12},md:{span:8},children:(0,d.jsx)(me,{})}),(0,d.jsx)(c.Col,{xs:{span:12},md:{span:8},children:(0,d.jsx)(be,{})}),(0,d.jsx)(c.Col,{xs:{span:12},md:{span:8},children:(0,d.jsx)(Ce,{})}),(0,d.jsx)(c.Col,{xs:{span:12},md:{span:8},children:(0,d.jsx)(Pe,{})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[16,16],align:"middle",children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(c.Divider,{plain:!0,orientation:"left",children:"Other methods"})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Tooltip,{title:"Caution! These methods is not recommended due to lack of cryptographical protection. By switching the button, you agree that you will use this function at your own risk.",children:(0,d.jsx)(c.Switch,{size:"small",checked:n,onChange:t,checkedChildren:(0,d.jsx)(x,{name:"warning"}),unCheckedChildren:(0,d.jsx)(x,{name:"help-circle"})})})})]})}),(0,d.jsx)(c.Col,{span:24,children:n?(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Te,{})}),(0,d.jsx)(c.Col,{span:24,style:{height:16}})," ",(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Re,{})})]}):null})]})})},De=function(){var e=(0,s.useDispatch)(),r=(0,s.useSelector)((function(e){return e.wallet})).address;return(0,u.useEffect)((function(){var r=function(){var e=Q.get("WalletType");return"SecretKey"===e||"Keystore"===e?new ne(Q.get("SecretKey")):"Coin98"===e?new oe:"Phantom"===e?new de:"Sollet"===e?new xe:"Slope"===e?new ge:null}();try{r&&e(z(r)).unwrap()}catch(n){return window.notify({type:"error",description:n.message})}}),[e]),l.account.isAddress(r)?(0,d.jsx)(c.Button,{type:"text",icon:(0,d.jsx)(x,{name:"power-outline"}),onClick:function(){return e(F())},block:!0,children:"Disconnect"}):(0,d.jsxs)(u.Fragment,{children:[(0,d.jsx)(c.Button,{type:"primary",icon:(0,d.jsx)(x,{name:"wallet-outline"}),onClick:function(){return e(M())},children:"Connect Wallet"}),(0,d.jsx)(Be,{})]})},Ke=n(63156),Oe=n(53738),We=function(e){var r=e.style,n=e.lite,t=void 0!==n&&n,s=(0,a.useHistory)();return(0,d.jsx)("img",{src:t?Oe:Ke,style:r,alt:"logo",onClick:function(){return s.push("/")}})},Me=n(16200),Ne=n.n(Me),ze=function(e){return new Promise((function(r){return setTimeout(r,e)}))},Le=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.substring(0,r)+n+e.substring(e.length-r,e.length)},Fe=function(){var e=(0,s.useSelector)((function(e){return e.wallet})),r=e.address,n=e.lamports,t=Ne()(l.utils.undecimalize(n,9)).format("0.[00]");return l.account.isAddress(r)?(0,d.jsx)(c.Card,{bodyStyle:{padding:16},hoverable:!0,children:(0,d.jsxs)(c.Row,{gutter:[16,16],align:"middle",children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(c.Tooltip,{placement:"topLeft",title:"".concat(l.utils.undecimalize(n,9)," SOL"),children:(0,d.jsxs)(c.Typography.Title,{level:3,children:[t," ",(0,d.jsx)("span",{style:{color:"#03E1FF"},children:"\u25ce"})]})})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Typography.Title,{level:5,type:"secondary",onClick:function(){return window.open((e=r,l.account.isAddress(e)?"https://explorer.solana.com/address/".concat(e,"?cluster=").concat(A):"https://explorer.solana.com/tx/".concat(e,"?cluster=").concat(A)),"_blank");var e},style:{cursor:"pointer"},children:(0,d.jsxs)(c.Space,{children:[Le(r,3,"..."),(0,d.jsx)(x,{name:"open-outline"})]})})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(De,{})})]})}):(0,d.jsx)(u.Fragment,{})},Ue=n(87777),Ve=n(91336),He=n(43144),qe=n(98917),Je=function(e){(0,H.Z)(n,e);var r=(0,q.Z)(n);function n(e){var t;return(0,V.Z)(this,n),(t=r.call(this,e)).support=function(){var e=t.props.remoteUrl;return window.open("mailto:hi@sentre.io?subject=".concat(e," has failed"),"_blank")},t.state={failed:!1},t}return(0,He.Z)(n,[{key:"componentDidCatch",value:function(e){return this.setState({failed:Boolean(e)})}},{key:"render",value:function(){var e=this.state.failed,r=this.props,n=r.remoteUrl,t=r.children;return e||!t?(0,d.jsxs)(c.Row,{gutter:[8,8],style:{height:"100%"},align:"middle",justify:"center",children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Title,{level:4,style:{textAlign:"center"},children:n})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)("p",{style:{textAlign:"center"},children:"Oops! The application can't load properly"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{type:"primary",onClick:this.support,block:!0,children:"Support"})})]}):t}}]),n}(u.Component),_e=["manifest"],Ge=["url","appId"],Xe=["url","appId"],Ye=(0,u.forwardRef)((function(e,r){var n=e.type,t=void 0===n?"default":n,a=e.manifest,s=e.render,c=(0,qe.oR)(a)[t];return(0,u.cloneElement)(s(c),r?{ref:r}:{})})),Qe=(0,u.forwardRef)((function(e,r){var n=e.manifest,t=(0,o.Z)(e,_e),a=(0,qe.oR)(n).default;return(0,d.jsx)(a,(0,i.Z)((0,i.Z)({},t),{},{ref:r}))})),$e=(0,u.forwardRef)((function(e,r){var n=e.url,t=e.appId,a=(0,o.Z)(e,Ge),s={url:n,scope:t,module:"./page"};return(0,d.jsx)(Je,{remoteUrl:n||"Unknown",children:(0,d.jsx)(u.Suspense,{fallback:(0,d.jsx)(c.Skeleton,{active:!0}),children:(0,d.jsx)(Qe,(0,i.Z)((0,i.Z)({manifest:s},a),{},{ref:r}))})})})),er=(0,u.forwardRef)((function(e,r){var n=e.url,t=e.appId,a=(0,o.Z)(e,Xe),s={url:n,scope:t,module:"./widget"};return(0,d.jsx)(Je,{remoteUrl:n||"Unknown",children:(0,d.jsx)(u.Suspense,{fallback:(0,d.jsx)(c.Skeleton,{active:!0}),children:(0,d.jsx)(Qe,(0,i.Z)((0,i.Z)({manifest:s},a),{},{ref:r}))})})})),rr=function(e){(0,H.Z)(n,e);var r=(0,q.Z)(n);function n(e){var t;return(0,V.Z)(this,n),(t=r.call(this,e)).state={failed:!1},t}return(0,He.Z)(n,[{key:"componentDidCatch",value:function(e){return this.setState({failed:Boolean(e)})}},{key:"render",value:function(){var e=this.state.failed,r=this.props.children;return e||!r?(0,d.jsx)(nr,(0,i.Z)((0,i.Z)({},this.props),{},{src:null})):r}}]),n}(u.Component),nr=function(e){var r=e.src,n=e.appId,t=e.onClick,a=void 0===t?function(){}:t,i=e.size,o=void 0===i?64:i,u=e.name,l=void 0===u||u,p=((0,s.useSelector)((function(e){return e.page})).register[n]||{name:"Unknown"}).name;return(0,d.jsxs)(c.Space,{direction:"vertical",style:{width:o,textAlign:"center"},onClick:a,children:[(0,d.jsx)(c.Avatar,{src:r,shape:"square",size:o,style:{cursor:"pointer"},children:(0,d.jsx)(x,{name:"image-outline"})}),l?(0,d.jsx)(c.Typography.Text,{style:{fontSize:Math.floor(o/4.5)},children:p}):null]})},tr=function(e){var r=e.appId,n={url:((0,s.useSelector)((function(e){return e.page})).register[r]||{url:""}).url,scope:r,module:"./static"};return(0,d.jsx)(rr,(0,i.Z)((0,i.Z)({},e),{},{children:(0,d.jsx)(u.Suspense,{fallback:(0,d.jsx)(c.Spin,{}),children:(0,d.jsx)(Ye,{type:"logo",manifest:n,render:function(r){return(0,d.jsx)(nr,(0,i.Z)((0,i.Z)({},e),{},{src:r}))}})})}))},ar=function(e){var r=e.index,n=e.items,t=e.children,a=e.disabled,s=void 0!==a&&a,i=(0,Ue.Zj)({id:"droppable-".concat(r),data:{isDroppableZone:!0,index:r},disabled:s}).setNodeRef,o=s?{transition:"all 0.25s ease-in-out"}:{transition:"all 0.25s ease-in-out",background:"#00000010",padding:16,borderRadius:16,minHeight:100};return(0,d.jsx)(Ve.Fo,{items:n,children:(0,d.jsx)(c.Row,{id:"droppable-".concat(r),gutter:[16,16],ref:i,children:(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)("div",{style:o,children:(0,d.jsx)(c.Row,{gutter:[16,16],children:t})})})})})},sr=n(41883),cr=function(e){var r=e.appId,n=e.size,t=void 0===n?64:n,a=e.onClick,s=void 0===a?function(){}:a,o=e.disabled,u=void 0!==o&&o,l=(0,Ve.nB)({id:r,disabled:u}),p=l.attributes,f=l.listeners,h=l.setNodeRef,x=l.transform,v=l.transition,w={transform:sr.ux.Translate.toString(x),transition:v};return(0,d.jsx)(c.Col,(0,i.Z)((0,i.Z)((0,i.Z)({id:r,style:w},f),p),{},{ref:h,children:(0,d.jsx)(tr,{appId:r,size:t,onClick:s})}))},ir=function(e){var r=e.id,n=e.children,t=(0,Ve.nB)({id:r}).setNodeRef,a=u.Children.map(n,(function(e){if((0,u.isValidElement)(e)){var n={id:r,ref:t};return(0,u.cloneElement)(e,n)}return e}));return(0,d.jsx)(u.Fragment,{children:a})},or=function(){var e=window.innerWidth;return e<576?"xs":e<768?"sm":e<992?"md":e<1200?"lg":e<1400?"xl":"xxl"},ur="ui",lr={theme:"light",width:window.innerWidth,infix:or(),touchable:"ontouchstart"in window||navigator.maxTouchPoints>0,actionCenterVisible:!1},dr=(0,j.createAsyncThunk)("".concat(ur,"/setTheme"),function(){var e=(0,w.Z)(g().mark((function e(r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{theme:r});case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),pr=(0,j.createAsyncThunk)("".concat(ur,"/resize"),(0,w.Z)(g().mark((function e(){var r,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.innerWidth,n=or(),e.abrupt("return",{width:r,infix:n});case 3:case"end":return e.stop()}}),e)})))),fr=(0,j.createAsyncThunk)("".concat(ur,"/setActionCenterVisible"),function(){var e=(0,w.Z)(g().mark((function e(r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{actionCenterVisible:r});case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),hr=(0,j.createSlice)({name:ur,initialState:lr,reducers:{},extraReducers:function(e){e.addCase(dr.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(pr.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(fr.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)}))}}).reducer,xr=n(93433),vr=n(37762),wr=n(15454),yr=n.n(wr),gr=n(16296),mr=n(32642),jr=n(97429).Buffer,br=function e(){var r=this;(0,V.Z)(this,e),this._ipfs=(0,w.Z)(g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==(n=window.sentre)&&void 0!==n&&n.ipfs){e.next=5;break}return e.next=4,(0,mr.Ue)();case 4:window.sentre.ipfs=e.sent;case 5:return e.abrupt("return",window.sentre.ipfs);case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,ze(500);case 12:return e.next=14,r._ipfs();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.get=function(){var n=(0,w.Z)(g().mark((function n(t){var a,s,c,i,o,u,l,d,p,f;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.isCID(t)){n.next=2;break}throw new Error("Invalid CID");case 2:return n.next=4,r._ipfs();case 4:return a=n.sent,n.next=7,a.cat(t);case 7:s=n.sent,c="",i=!1,o=!1,n.prev=11,l=(0,gr.Z)(s);case 13:return n.next=15,l.next();case 15:if(!(i=!(d=n.sent).done)){n.next=21;break}p=d.value,c+=jr.from(p).toString();case 18:i=!1,n.next=13;break;case 21:n.next=27;break;case 23:n.prev=23,n.t0=n.catch(11),o=!0,u=n.t0;case 27:if(n.prev=27,n.prev=28,!i||null==l.return){n.next=32;break}return n.next=32,l.return();case 32:if(n.prev=32,!o){n.next=35;break}throw u;case 35:return n.finish(32);case 36:return n.finish(27);case 37:return f=JSON.parse(c),n.abrupt("return",f);case 39:case"end":return n.stop()}}),n,null,[[11,23,27,37],[28,,32,36]])})));return function(e){return n.apply(this,arguments)}}(),this.set=function(){var e=(0,w.Z)(g().mark((function e(n){var t,a,s,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error("Empty data");case 2:return t=JSON.stringify(n),e.next=5,r._ipfs();case 5:return a=e.sent,e.next=8,a.add(t);case 8:return s=e.sent,c=s.path,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()};br.isCID=function(e){try{return mr.bf.multihash(e)}catch(r){return!1}};var kr,Cr,Zr=br,Sr=function e(r){var n=this;if((0,V.Z)(this,e),this.dbName=void 0,this.driver=void 0,this.ipfs=void 0,this.createInstance=function(e){return yr().createInstance({driver:n.driver,name:n.dbName,storeName:e})},this.dropInstance=function(){var e=(0,w.Z)(g().mark((function e(r){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.createInstance(r),e.next=3,t.clear();case 3:return e.next=5,yr().dropInstance({name:n.dbName,storeName:r});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),this.all=(0,w.Z)(g().mark((function e(){var r,t,a,s,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,n.createInstance("sentre").getItem("appIds");case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:t=e.t0.flat().concat(["sentre"]),a=(0,vr.Z)(t),e.prev=8,c=g().mark((function e(){var t,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.value,r[t]={},a=n.createInstance(t),e.next=5,a.iterate((function(e,n){r[t][n]=e}));case 5:case"end":return e.stop()}}),e)})),a.s();case 11:if((s=a.n()).done){e.next=15;break}return e.delegateYield(c(),"t1",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(8),a.e(e.t2);case 20:return e.prev=20,a.f(),e.finish(20);case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}}),e,null,[[8,17,20,23]])}))),this.backup=(0,w.Z)(g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.all();case 2:return r=e.sent,e.next=5,n.ipfs.set(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),this.restore=function(){var e=(0,w.Z)(g().mark((function e(r){var t,a,s,c,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.ipfs.get(r);case 2:t=e.sent,e.t0=g().keys(t);case 4:if((e.t1=e.t0()).done){e.next=19;break}return a=e.t1.value,e.next=8,n.createInstance(a);case 8:s=e.sent,e.t2=g().keys(t[a]);case 10:if((e.t3=e.t2()).done){e.next=17;break}return c=e.t3.value,i=t[a][c],e.next=15,s.setItem(c,i);case 15:e.next=10;break;case 17:e.next=4;break;case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),!l.account.isAddress(r))throw new Error("Invalid address");this.dbName=r,this.driver=[yr().WEBSQL,yr().LOCALSTORAGE],this.ipfs=new Zr},Ar=B.register,Tr=Ar.senreg,Ir=Ar.extra,Rr=function(e){return e&&Array.isArray(e)?e.filter((function(e){return e})):[]},Er=function(){var e=(0,w.Z)(g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(Tr);case 3:return r=e.sent,e.abrupt("return",r.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Pr="page",Br={register:{},appIds:[],farvoriteAppIds:[]},Dr=(0,j.createAsyncThunk)("".concat(Pr,"/loadPage"),function(){var e=(0,w.Z)(g().mark((function e(r,n){var t,a,s,c,o,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.getState,a=t(),s=a.wallet.address,l.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet");case 4:return c=new Sr(s).createInstance("sentre"),e.t0=Rr,e.next=8,c.getItem("appIds");case 8:if(e.t1=e.sent,e.t1){e.next=11;break}e.t1=Br.appIds;case 11:return e.t2=e.t1,o=(0,e.t0)(e.t2),e.next=15,Er();case 15:return u=e.sent,e.abrupt("return",{appIds:o,register:(0,i.Z)((0,i.Z)({},u),Ir)});case 17:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()),Kr=(0,j.createAsyncThunk)("".concat(Pr,"/updatePage"),function(){var e=(0,w.Z)(g().mark((function e(r,n){var t,a,s,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.getState,a=t(),s=a.wallet.address,l.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet");case 4:return r=Rr(r),c=new Sr(s),e.next=8,c.createInstance("sentre").setItem("appIds",r);case 8:return e.abrupt("return",{appIds:r});case 9:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()),Or=(0,j.createAsyncThunk)("".concat(Pr,"/installApp"),function(){var e=(0,w.Z)(g().mark((function e(r,n){var t,a,s,c,i,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.getState,a=t(),s=a.wallet.address,c=a.page.appIds,l.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet");case 4:if(!c.includes(r)){e.next=6;break}return e.abrupt("return",{});case 6:return(i=(0,xr.Z)(c)).push(r),o=new Sr(s),e.next=11,o.createInstance("sentre").setItem("appIds",i);case 11:return e.abrupt("return",{appIds:i});case 12:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()),Wr=(0,j.createAsyncThunk)("".concat(Pr,"/uninstallApp"),function(){var e=(0,w.Z)(g().mark((function e(r,n){var t,a,s,c,i,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.getState,a=t(),s=a.wallet.address,c=a.page.appIds,l.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet");case 4:if(c.includes(r)){e.next=6;break}return e.abrupt("return",{});case 6:return i=c.filter((function(e){return e!==r})),o=new Sr(s),e.next=10,o.createInstance("sentre").setItem("appIds",i);case 10:return e.next=12,o.dropInstance(r);case 12:return e.abrupt("return",{appIds:i});case 13:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()),Mr=(0,j.createSlice)({name:Pr,initialState:Br,reducers:{},extraReducers:function(e){e.addCase(Dr.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(Kr.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(Or.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(Wr.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)}))}}).reducer,Nr=function(){var e=Ue.Xo.apply(void 0,arguments);return e||Ue.ey.apply(void 0,arguments)},zr=function(e){var r=e.disabled,n=void 0===r||r,t=(0,a.useHistory)(),i=(0,s.useDispatch)(),o=(0,u.useState)([]),l=(0,v.Z)(o,2),p=l[0],f=l[1],h=(0,u.useState)(""),y=(0,v.Z)(h,2),m=y[0],j=y[1],b=(0,u.useState)(""),k=(0,v.Z)(b,2),C=k[0],Z=k[1],S=(0,Ue.Dy)((0,Ue.VT)(Ue.MA),(0,Ue.VT)(Ue.LO)),A=(0,s.useSelector)((function(e){return e.page})).appIds;(0,u.useEffect)((function(){f(A)}),[A]);var T=function(){var e=(0,w.Z)(g().mark((function e(r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(fr(!1));case 2:return e.abrupt("return",t.push("/app/".concat(r)));case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),I=(0,u.useCallback)((function(e){var r,n=e.over,t=e.active;if(null!==n&&void 0!==n&&null!==(r=n.id)&&void 0!==r&&r.startsWith("action-"))return Z(n.id);Z("");var a=t.id,s=(null===n||void 0===n?void 0:n.id)||a,c=(0,Ve.Rp)(p,p.indexOf(a),p.indexOf(s));return f(c)}),[p]),R=function(){var e=(0,w.Z)(g().mark((function e(r){var n,t,a,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.over,t=r.active,"action-remove"!==(null===n||void 0===n?void 0:n.id)){e.next=7;break}return a=t.id,s=p.filter((function(e){return e!==a})),e.next=6,f(s);case 6:return e.abrupt("return",i(Wr(a)));case 7:return e.abrupt("return",i(Kr(p)));case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,d.jsxs)(Ue.LB,{sensors:S,collisionDetection:Nr,onDragStart:function(e){var r=e.active;return j(r.id)},onDragOver:I,onDragEnd:R,children:[(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(ar,{index:0,items:p,disabled:n,children:p.map((function(e){return(0,d.jsx)(cr,{appId:e,disabled:n,size:64,onClick:function(){return T(e)}},e)}))})}),!n&&(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(ir,{id:"action-remove",children:(0,d.jsx)(c.Button,{block:!0,disabled:!m,type:C?"primary":void 0,className:"contained",icon:(0,d.jsx)(x,{name:"trash-outline"}),children:"Drop here to delete"})})})]}),(0,d.jsx)(Ue.y9,{children:m?(0,d.jsx)("span",{style:{opacity:.5},children:(0,d.jsx)(tr,{appId:m})}):null})]})},Lr=function(){var e=(0,u.useState)(!1),r=(0,v.Z)(e,2),n=r[0],t=r[1];return(0,d.jsxs)(c.Row,{gutter:[16,24],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Fe,{})}),(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(c.Typography.Text,{children:"To customize your workspace"})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Switch,{onChange:t,size:"small"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(zr,{disabled:!n})})]})},Fr=function(){var e=(0,s.useDispatch)(),r=(0,s.useSelector)((function(e){return e.ui})).theme;return(0,d.jsx)(c.Card,{bodyStyle:{padding:16},hoverable:!0,children:(0,d.jsxs)(c.Row,{gutter:[8,8],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[8,8],wrap:!1,children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(c.Typography.Text,{children:"Theme"})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Switch,{size:"small",checked:"dark"===r,onChange:function(r){return e(dr(r?"dark":"light"))},checkedChildren:(0,d.jsx)(x,{name:"moon-outline"}),unCheckedChildren:(0,d.jsx)(x,{name:"sunny-outline"}),disabled:!0})})]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Paragraph,{type:"secondary",style:{fontSize:12},children:"Dark mode will prolong your battery life, and reduce eye strain (coming soon)."})})]})})},Ur=function(){return(0,d.jsxs)(c.Select,{defaultValue:A,onChange:T,size:"small",children:[(0,d.jsx)(c.Select.Option,{value:"devnet",children:"Devnet"}),(0,d.jsx)(c.Select.Option,{value:"mainnet",children:"Mainnet"})]})},Vr=B.sol.node,Hr=new ve.Connection(Vr),qr=function(e){return 3===e?"Good":2===e?"Moderate":1===e?"Poor":"No"},Jr=function(){var e,r=(0,u.useState)(0),n=(0,v.Z)(r,2),t=n[0],a=n[1],s=(0,u.useCallback)((0,w.Z)(g().mark((function e(){var r,n,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.navigator.onLine){e.next=3;break}return e.abrupt("return",a(0));case 3:return r=Date.now(),e.next=6,Hr.getVersion();case 6:if(n=Date.now(),!((t=n-r)<250)){e.next=10;break}return e.abrupt("return",a(3));case 10:if(!(t<1e3)){e.next=12;break}return e.abrupt("return",a(2));case 12:return e.abrupt("return",a(1));case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",a(0));case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),[]);return(0,u.useEffect)((function(){return kr&&clearInterval(kr),s(),kr=setInterval(s,1e3),function(){kr&&clearInterval(kr),kr=void 0}}),[s]),(0,d.jsx)(c.Card,{bodyStyle:{padding:16},hoverable:!0,children:(0,d.jsxs)(c.Row,{gutter:[8,8],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[8,8],wrap:!1,children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(c.Typography.Text,{children:"Solana Network"})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(Ur,{})})]})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Space,{size:0,children:[(0,d.jsx)(c.Badge,{status:(e=t,3===e?"success":2===e?"warning":1===e?"error":"default"),dot:!0}),(0,d.jsx)(c.Typography.Text,{type:"secondary",children:"".concat(qr(t)," connection")})]})})]})})},_r=function(){var e=(0,s.useSelector)((function(e){return e.wallet})).address,r=new Sr(e),n=function(){var e=(0,w.Z)(g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onBackup"),e.next=3,r.backup();case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=(0,w.Z)(g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onRestore"),e.next=3,r.restore("QmdxL9t5BMUjMkZD5VZ7McJzfR9gcv6ZZcXRvXzCNrGNVS");case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,d.jsx)(c.Card,{bodyStyle:{padding:16},hoverable:!0,children:(0,d.jsxs)(c.Row,{gutter:[16,20],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Text,{children:"Backup & Restore"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[8,8],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{type:"primary",icon:(0,d.jsx)(x,{name:"cloud-done-outline"}),onClick:n,block:!0,children:"Backup"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Button,{icon:(0,d.jsx)(x,{name:"archive-outline"}),onClick:t,block:!0,children:"Restore"})})]})})]})})},Gr=function(){return(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:12,children:(0,d.jsx)(Fr,{})}),(0,d.jsx)(c.Col,{span:12,children:(0,d.jsx)(_r,{})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Jr,{})})]})},Xr=function(){var e=(0,s.useDispatch)(),r=(0,s.useSelector)((function(e){return e.ui})).actionCenterVisible;return(0,d.jsxs)(u.Fragment,{children:[(0,d.jsx)(c.Button,{type:"text",icon:(0,d.jsx)(x,{name:"menu",style:{fontSize:20}}),onClick:function(){return e(fr(!r))}}),(0,d.jsx)(c.Drawer,{visible:r,onClose:function(){return e(fr(!1))},closable:!1,contentWrapperStyle:{width:"95%",maxWidth:400},destroyOnClose:!0,children:(0,d.jsx)(c.Row,{gutter:[16,16],style:{marginTop:-16},children:(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Tabs,{style:{overflow:"visible"},tabBarExtraContent:(0,d.jsx)(c.Button,{type:"text",icon:(0,d.jsx)(x,{name:"close-outline"}),onClick:function(){return e(fr(!1))}}),destroyInactiveTabPane:!0,children:[(0,d.jsx)(c.Tabs.TabPane,{tab:(0,d.jsxs)("span",{children:[(0,d.jsx)(x,{name:"grid-outline"}),"Applications"]}),children:(0,d.jsx)(Lr,{})},"action-center"),(0,d.jsx)(c.Tabs.TabPane,{tab:(0,d.jsxs)("span",{children:[(0,d.jsx)(x,{name:"settings-outline"}),"Settings"]}),children:(0,d.jsx)(Gr,{})},"system-settings")]})})})})]})},Yr=function(){var e=(0,a.useHistory)();return(0,d.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.push("/store")},children:(0,d.jsx)(c.Avatar,{shape:"square",children:(0,d.jsx)(x,{name:"add-outline"})})})},Qr=function(){var e=(0,a.useHistory)(),r=((0,a.useRouteMatch)("/app/:appId")||{}).params,n=(0,s.useSelector)((function(e){return e.page})).appIds;return(0,d.jsxs)(c.Row,{gutter:[12,12],wrap:!1,align:"middle",children:[n.map((function(n){return(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Badge,{dot:(null===r||void 0===r?void 0:r.appId)===n,color:"cyan",offset:[-4,4],children:(0,d.jsx)(tr,{appId:n,size:32,name:!1,onClick:function(){return e.push("/app/".concat(n))}})})},n)})),(0,d.jsx)(c.Col,{children:(0,d.jsx)(Yr,{})})]})},$r="search",en=(0,j.createAsyncThunk)("".concat($r,"/setValue"),function(){var e=(0,w.Z)(g().mark((function e(r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{value:r});case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),rn=(0,j.createAsyncThunk)("".concat($r,"/setLoading"),function(){var e=(0,w.Z)(g().mark((function e(r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{loading:r});case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),nn=(0,j.createAsyncThunk)("".concat($r,"/setDisabled"),function(){var e=(0,w.Z)(g().mark((function e(r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{disabled:r});case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),tn=(0,j.createSlice)({name:$r,initialState:{value:"",loading:!1,disabled:!1},reducers:{},extraReducers:function(e){e.addCase(en.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(rn.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(nn.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)}))}}).reducer,an=function(){var e=(0,s.useDispatch)(),r=(0,a.useLocation)(),n=(0,a.useHistory)(),t=(0,s.useSelector)((function(e){return e.search})),i=t.value,o=t.loading,l=t.disabled,p=(0,u.useCallback)((function(r){e(en(r.target.value))}),[e]),f=(0,u.useCallback)((function(){e(en("")),n.push(r.pathname)}),[e,n,r.pathname]);return(0,u.useEffect)((function(){var n=new URLSearchParams(r.search);e(en(n.get("search")||""))}),[e,r.search]),(0,d.jsx)(c.Row,{gutter:[12,12],children:(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Input,{placeholder:"Search",bordered:!1,onChange:p,value:i,prefix:(0,d.jsx)(c.Button,{type:"text",size:"small",icon:(0,d.jsx)(x,{name:i?"close-circle-outline":"search-outline"}),loading:o,disabled:l,onClick:i?f:function(){}}),disabled:l})})})},sn=function(){var e=(0,a.useLocation)().pathname,r=(0,s.useSelector)((function(e){return e.ui})).width,n=(0,s.useSelector)((function(e){return e.wallet})).address;return l.account.isAddress(n)?(0,d.jsxs)(c.Row,{gutter:[12,12],wrap:!1,align:"middle",children:[(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Divider,{type:"vertical",style:{margin:"0px ".concat(r<768?4:8,"px")}})}),(0,d.jsx)(c.Col,{flex:"auto",style:{width:0},className:"scrollbar",children:e.startsWith("/store")?(0,d.jsx)(an,{}):(0,d.jsx)(Qr,{})})]}):null},cn=function(e){var r=e.iconName,n=e.title,t=e.route,i=(0,a.useHistory)(),o=(0,s.useSelector)((function(e){return e.ui})).width;return(0,d.jsx)(c.Button,{type:"text",icon:(0,d.jsx)(x,{name:r}),onClick:function(){return i.push(t)},children:o>=768?n:null})},on=function(){var e=(0,s.useDispatch)(),r=(0,s.useSelector)((function(e){return e.wallet})).address,n=(0,s.useSelector)((function(e){return e.ui})).width;return(0,u.useEffect)((function(){l.account.isAddress(r)&&e(Dr())}),[e,r]),(0,d.jsxs)(c.Row,{gutter:[12,12],align:"middle",wrap:!1,children:[(0,d.jsx)(c.Col,{children:(0,d.jsx)(We,{style:{height:24,cursor:"pointer"},lite:n<768})}),(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(sn,{})}),(0,d.jsx)(c.Col,{children:(0,d.jsxs)(c.Space,{align:"center",children:[(0,d.jsx)(cn,{iconName:"grid-outline",route:"/dashboard",title:"Dashboard"}),(0,d.jsx)(cn,{iconName:"bag-handle-outline",route:"/store",title:"Store"}),l.account.isAddress(r)?(0,d.jsx)(Xr,{}):(0,d.jsx)(De,{})]})})]})},un=function(){var e=(0,a.useHistory)(),r=(0,a.useLocation)(),n=(0,s.useSelector)((function(e){return e.wallet})).address;return(0,u.useEffect)((function(){var t=new URLSearchParams(r.search),a=decodeURI(t.get("redirect")||"/welcome");if(l.account.isAddress(n))return e.push(a)}),[n,e,r.search]),(0,d.jsx)(c.Row,{gutter:[24,24],justify:"center",children:(0,d.jsx)(c.Col,{span:24,children:"Welcome"})})},ln=function(){var e=(0,s.useSelector)((function(e){return e.page})),r=e.appIds,n=e.register;return(0,d.jsx)(c.Row,{gutter:[24,24],children:r.map((function(e){return n[e]?(0,d.jsx)(c.Col,{children:(0,d.jsx)(er,(0,i.Z)({},n[e]))},e):null}))})},dn=n(2521),pn=function(e){var r=e.appId,n=(0,dn.k6)();return(0,d.jsxs)(c.Row,{gutter:[16,16],justify:"center",children:[(0,d.jsx)(c.Col,{span:24}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Typography.Title,{level:1,children:"The app is not installed yet!"})}),(0,d.jsx)(c.Col,{span:24}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Button,{type:"primary",onClick:function(){return n.push("/store?search=".concat(r))},icon:(0,d.jsx)(x,{name:"search-outline"}),children:"Search in the store"})})]})},fn=function(){var e=(0,a.useParams)().appId,r=(0,s.useSelector)((function(e){return e.page})),n=r.appIds,t=r.register;return t[e]?(0,d.jsx)(c.Row,{gutter:[24,24],children:(0,d.jsx)(c.Col,{span:24,children:n.includes(e)?(0,d.jsx)($e,(0,i.Z)({},t[e])):(0,d.jsx)(pn,{appId:e})})}):null},hn=n(11796),xn={tokenize:"full",context:!0,minlength:3},vn=function e(r){var n=this;(0,V.Z)(this,e),this.register=void 0,this.index=void 0,this.add=function(e,r){return n.index.add(e,r)},this.search=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=[];e.split(",").forEach((function(e){t=t.concat(n.index.search(e,r))}));var a=[];return t.forEach((function(e){return e.result.forEach((function(e){if(!a.includes(e))return a.push(e)}))})),a.map((function(e){return n.register[e].appId}))},this.register=r,this.index=new hn.Document({document:{id:"appId",index:[(0,i.Z)({field:"appId"},xn),(0,i.Z)({field:"name"},xn),(0,i.Z)({field:"description"},xn),(0,i.Z)({field:"author:name"},xn),(0,i.Z)({field:"author:email"},xn)]}}),Object.keys(r).forEach((function(e){return n.add(e,r[e])}))},wn=function(){var e=(0,a.useHistory)(),r=(0,s.useDispatch)(),n=(0,u.useState)(),t=(0,v.Z)(n,2),i=t[0],o=t[1],l=(0,s.useSelector)((function(e){return e.search})).value,p=(0,s.useSelector)((function(e){return e.page})).register,f=function(r){return e.push("/store/".concat(r))},h=(0,u.useCallback)((0,w.Z)(g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new vn(p),e.next=3,r(rn(!0));case 3:if(Cr&&(clearTimeout(Cr),Cr=void 0),l){e.next=9;break}return e.next=7,o(void 0);case 7:return e.next=9,r(rn(!1));case 9:Cr=setTimeout((0,w.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.search(l),e.next=3,o(t);case 3:return e.next=5,r(rn(!1));case 5:return e.abrupt("return",window.scrollTo(0,0));case 6:case"end":return e.stop()}}),e)}))),1e3);case 10:case"end":return e.stop()}}),e)}))),[l,r,p]);return(0,u.useEffect)((function(){h()}),[h]),(0,d.jsxs)(c.Row,{gutter:[16,24],children:[null!==i&&void 0!==i&&i.length?(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Title,{level:4,type:"secondary",children:"Search Results"})}):null,null===i||void 0===i?void 0:i.map((function(e){return(0,d.jsx)(c.Col,{children:(0,d.jsx)(tr,{appId:e,onClick:function(){return f(e)}})},e)})),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Typography.Title,{level:4,type:"secondary",children:"All applications"})}),Object.keys(p).map((function(e){return(0,d.jsx)(c.Col,{children:(0,d.jsx)(tr,{appId:e,onClick:function(){return f(e)}})},e)}))]})},yn=n(55310),gn=function(e){var r=e.src,n=(0,u.createRef)();return(0,u.useEffect)((function(){(0,w.Z)(g().mark((function e(){var t,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("Invalid source url");case 2:return e.next=4,fetch(r);case 4:return e.next=6,e.sent.text();case 6:t=e.sent,a=new yn._({html:!0}),n.current&&(n.current.innerHTML=a.render(t));case 9:case"end":return e.stop()}}),e)})))()}),[r,n]),(0,d.jsx)(c.Row,{gutter:[16,16],children:(0,d.jsx)(c.Col,{span:24,ref:n})})},mn=function(e){(0,H.Z)(n,e);var r=(0,q.Z)(n);function n(e){var t;return(0,V.Z)(this,n),(t=r.call(this,e)).state={failed:!1},t}return(0,He.Z)(n,[{key:"componentDidCatch",value:function(e){return this.setState({failed:Boolean(e)})}},{key:"render",value:function(){var e=this.state.failed,r=this.props.children;return e||!r?(0,d.jsx)(c.Typography.Text,{children:"Cannot load the README.md"}):r}}]),n}(u.Component),jn=function(e){var r=(0,s.useSelector)((function(e){return e.page})).register,n=e.appId,t={url:(r[n]||{url:""}).url,scope:n,module:"./static"};return(0,d.jsx)(mn,(0,i.Z)((0,i.Z)({},e),{},{children:(0,d.jsx)(u.Suspense,{fallback:(0,d.jsx)(c.Spin,{}),children:(0,d.jsx)(Ye,{type:"readme",manifest:t,render:function(e){return(0,d.jsx)(gn,{src:e})}})})}))};var bn=n.p+"static/media/error-image.2a4549c596199c25fa7af4dbefe26b3a.svg",kn=function(e){(0,H.Z)(n,e);var r=(0,q.Z)(n);function n(e){var t;return(0,V.Z)(this,n),(t=r.call(this,e)).state={failed:!1},t}return(0,He.Z)(n,[{key:"componentDidCatch",value:function(e){return this.setState({failed:Boolean(e)})}},{key:"render",value:function(){var e=this.state.failed,r=this.props.children;return e||!r?(0,d.jsx)(Cn,(0,i.Z)((0,i.Z)({},this.props),{},{src:bn})):r}}]),n}(u.Component),Cn=function(e){var r=e.src,n=e.onClick,t=void 0===n?function(){}:n;return(0,d.jsx)(c.Row,{children:(0,d.jsx)(c.Col,{span:24,style:{lineHeight:0},children:(0,d.jsx)(c.Image,{src:r,width:"100%",onClick:t,preview:!1})})})},Zn=function(e){var r=(0,s.useSelector)((function(e){return e.page})).register,n=e.appId,t={url:(r[n]||{url:""}).url,scope:n,module:"./static"};return(0,d.jsx)(kn,(0,i.Z)((0,i.Z)({},e),{},{children:(0,d.jsx)(u.Suspense,{fallback:(0,d.jsx)(c.Spin,{}),children:(0,d.jsx)(Ye,{type:"panel",manifest:t,render:function(r){return(0,d.jsx)(Cn,(0,i.Z)((0,i.Z)({},e),{},{src:r}))}})})}))},Sn=function(e){var r=e.title,n=e.value,t=e.divider,a=void 0!==t&&t;return(0,d.jsxs)(c.Row,{gutter:[8,8],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(c.Row,{gutter:[8,8],children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(c.Typography.Text,{type:"secondary",children:r})}),(0,d.jsx)(c.Col,{children:(0,d.jsx)(c.Typography.Text,{children:n})})]})}),a?(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Divider,{style:{marginTop:0,marginBottom:8}})}):null]})},An=function(e){var r=e.appId,n=(0,s.useSelector)((function(e){return e.page})).register[r]||{},t=n.description,a=n.author,i=n.name;return(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Zn,{appId:r})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(c.Card,{children:(0,d.jsxs)(c.Row,{gutter:[16,16],children:[(0,d.jsx)(c.Col,{children:(0,d.jsx)(tr,{appId:r,size:48,name:!1})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Sn,{title:"Name",value:i||"",divider:!0})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Sn,{title:"Author",value:(null===a||void 0===a?void 0:a.name)||"",divider:!0})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Sn,{title:"Support",value:(null===a||void 0===a?void 0:a.email)||"",divider:!0})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(Sn,{title:"Description",value:t||""})})]})})})]})},Tn=function(){var e=(0,a.useHistory)(),r=(0,s.useDispatch)(),n=(0,a.useParams)().appId,t=(0,s.useSelector)((function(e){return e.wallet})).address,i=(0,s.useSelector)((function(e){return e.page})).appIds,o=(0,u.useMemo)((function(){return l.account.isAddress(t)&&i.includes(n)}),[t,i,n]);return(0,d.jsxs)(c.Row,{gutter:[24,24],children:[(0,d.jsx)(c.Col,{xs:{span:24},md:{span:8},children:(0,d.jsx)(An,{appId:n})}),(0,d.jsx)(c.Col,{xs:{span:24},md:{span:16},children:(0,d.jsxs)(c.Row,{gutter:[24,24],children:[(0,d.jsx)(c.Col,{flex:"auto",children:(0,d.jsx)(c.Button,{className:"contained",icon:(0,d.jsx)(x,{name:"arrow-back-outline"}),onClick:function(){return e.goBack()},children:"Back"})}),(0,d.jsx)(c.Col,{children:o?(0,d.jsxs)(c.Space,{children:[(0,d.jsx)(c.Button,{icon:(0,d.jsx)(x,{name:"trash-outline"}),onClick:function(){return r(Wr(n))},children:"Uninstall"}),(0,d.jsx)(c.Button,{type:"primary",onClick:function(){return e.push("/app/".concat(n))},children:"Open"})]}):(0,d.jsx)(c.Button,{type:"primary",icon:(0,d.jsx)(x,{name:"cloud-download-outline"}),onClick:function(){return r(Or(n))},children:"Install"})}),(0,d.jsx)(c.Col,{span:24,children:(0,d.jsx)(jn,{appId:n})})]})})]})},In=function(){var e=c.notification.useNotification(),r=(0,v.Z)(e,2),n=r[0],t=r[1],a=(0,s.useDispatch)();return window.notify=function(e){var r=e.type,t=e.description,a=e.onClick,s=void 0===a?function(){}:a;return n[r]({message:r.toUpperCase(),description:t,onClick:s,style:{cursor:"pointer"},closeIcon:(0,d.jsx)(x,{name:"close-outline"})})},(0,u.useEffect)((function(){window.onresize=function(){return a(pr())}}),[a]),(0,d.jsx)(u.Fragment,{children:t})},Rn=null,En=function(){var e=(0,s.useDispatch)(),r=(0,s.useSelector)((function(e){return e.wallet})).address,n=(0,u.useCallback)((0,w.Z)(g().mark((function n(){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l.account.isAddress(r)){n.next=11;break}return n.prev=1,n.next=4,window.sentre.lamports.unwatch(Rn);case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:Rn=null,n.next=14;break;case 11:if(!Rn){n.next=13;break}return n.abrupt("return",console.warn("Already watched"));case 13:Rn=window.sentre.lamports.watch(r,(function(r,n){return r?console.warn(r):e(L({lamports:BigInt(n||0)}))}));case 14:case"end":return n.stop()}}),n,null,[[1,6]])}))),[e,r]);return(0,u.useEffect)((function(){n()}),[n]),null},Pn="accounts",Bn=(0,j.createAsyncThunk)("".concat(Pn,"/getAccounts"),function(){var e=(0,w.Z)(g().mark((function e(r){var n,t,a,s,c,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.owner,l.account.isAddress(n)){e.next=3;break}throw new Error("Invalid owner/wallet address");case 3:return t=window.sentre.splt,a=l.account.fromAddress(n),e.next=7,t.connection.getTokenAccountsByOwner(a,{programId:t.spltProgramId});case 7:return s=e.sent,c=s.value,i={},c.forEach((function(e){var r=e.pubkey,n=e.account.data,a=r.toBase58(),s=t.parseAccountData(n);return i[a]=s})),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),Dn=(0,j.createAsyncThunk)("".concat(Pn,"/getAccount"),function(){var e=(0,w.Z)(g().mark((function e(r,n){var t,a,s,c,i,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.address,a=n.getState,l.account.isAddress(t)){e.next=4;break}throw new Error("Invalid account address");case 4:if(s=a(),!(c=s.accounts[t])){e.next=7;break}return e.abrupt("return",(0,E.Z)({},t,c));case 7:return i=window.sentre.splt,e.next=10,i.getAccountData(t);case 10:return o=e.sent,e.abrupt("return",(0,E.Z)({},t,o));case 12:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()),Kn=(0,j.createAsyncThunk)("".concat(Pn,"/upsetAccount"),function(){var e=(0,w.Z)(g().mark((function e(r){var n,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.address,t=r.data,l.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:if(t){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,E.Z)({},n,t));case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),On=(0,j.createAsyncThunk)("".concat(Pn,"/deleteAccount"),function(){var e=(0,w.Z)(g().mark((function e(r){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.address,l.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:n});case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),Wn=(0,j.createSlice)({name:Pn,initialState:{},reducers:{},extraReducers:function(e){e.addCase(Bn.fulfilled,(function(e,r){return r.payload})).addCase(Dn.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(Kn.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(On.fulfilled,(function(e,r){delete e[r.payload.address]}))}}).reducer,Mn=0,Nn=void 0,zn=function(){var e=(0,s.useDispatch)(),r=(0,s.useSelector)((function(e){return e.wallet})),n=r.address,t=r.lamports,a=(0,u.useCallback)((0,w.Z)(g().mark((function r(){return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,l.account.isAddress(n)){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,e(Bn({owner:n})).unwrap();case 5:r.next=10;break;case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",window.notify({type:"error",description:"Cannot fetch data of accounts"}));case 10:case"end":return r.stop()}}),r,null,[[0,7]])}))),[e,n]),c=(0,u.useCallback)((0,w.Z)(g().mark((function r(){var t,a,s;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l.account.isAddress(n)){r.next=2;break}return r.abrupt("return",console.warn("Wallet is not connected"));case 2:if(!Mn){r.next=4;break}return r.abrupt("return",console.warn("Already watched"));case 4:t=window.sentre||{},a=t.splt,s=[{memcmp:{bytes:n,offset:32}}],Mn=null===a||void 0===a?void 0:a.watch((function(r,n){if(r)return console.error(r);var t=n.address,a=n.data;return e(Kn({address:t,data:a}))}),s);case 7:case"end":return r.stop()}}),r)}))),[e,n]);return(0,u.useEffect)((function(){"undefined"!==typeof Nn&&t>Nn&&e(Bn({owner:n})),Nn=t}),[e,n,t]),(0,u.useEffect)((function(){return a(),c(),function(){(0,w.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.sentre.splt.unwatch(Mn);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))(),Mn=0}}),[a,c]),(0,d.jsx)(u.Fragment,{})},Ln=B.sol.taxmanAddress,Fn="pools",Un=(0,j.createAsyncThunk)("".concat(Fn,"/getPools"),(0,w.Z)(g().mark((function e(){var r,n,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.sentre.swap,e.next=3,r.connection.getProgramAccounts(r.swapProgramId,{filters:[{dataSize:257},{memcmp:{bytes:Ln,offset:65}}]});case 3:return n=e.sent,t={},n.forEach((function(e){var n=e.pubkey,a=e.account.data,s=n.toBase58(),c=r.parsePoolData(a);t[s]=c})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),Vn=(0,j.createAsyncThunk)("".concat(Fn,"/getPool"),function(){var e=(0,w.Z)(g().mark((function e(r,n){var t,a,s,c,i,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.address,a=n.getState,l.account.isAddress(t)){e.next=4;break}throw new Error("Invalid pool address");case 4:if(s=a(),!(c=s.pools[t])){e.next=7;break}return e.abrupt("return",(0,E.Z)({},t,c));case 7:return i=window.sentre.swap,e.next=10,i.getPoolData(t);case 10:return o=e.sent,e.abrupt("return",(0,E.Z)({},t,o));case 12:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()),Hn=(0,j.createAsyncThunk)("".concat(Fn,"/upsetPool"),function(){var e=(0,w.Z)(g().mark((function e(r){var n,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.address,t=r.data,l.account.isAddress(n)){e.next=3;break}throw new Error("Invalid pool address");case 3:if(t){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,E.Z)({},n,t));case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),qn=(0,j.createSlice)({name:Fn,initialState:{},reducers:{},extraReducers:function(e){e.addCase(Un.fulfilled,(function(e,r){return r.payload})).addCase(Vn.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(Hn.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)}))}}).reducer,Jn=B.sol.taxmanAddress,_n=0,Gn=function(){var e=(0,s.useDispatch)(),r=(0,s.useSelector)((function(e){return e.wallet})).address,n=(0,u.useCallback)((0,w.Z)(g().mark((function n(){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,l.account.isAddress(r)){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,e(Un()).unwrap();case 5:n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",window.notify({type:"error",description:"Cannot fetch data of pools"}));case 10:case"end":return n.stop()}}),n,null,[[0,7]])}))),[e,r]),t=(0,u.useCallback)((0,w.Z)(g().mark((function r(){var n,t,a;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!_n){r.next=2;break}return r.abrupt("return",console.warn("Already watched"));case 2:n=window.sentre||{},t=n.swap,a=[{memcmp:{bytes:Jn,offset:65}}],_n=null===t||void 0===t?void 0:t.watch((function(r,n){if(r)return console.error(r);var t=n.address,a=n.data;return e(Hn({address:t,data:a}))}),a);case 5:case"end":return r.stop()}}),r)}))),[e]);return(0,u.useEffect)((function(){return n(),t(),function(){(0,w.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.sentre.swap.unwatch(_n);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))(),_n=0}}),[n,t]),(0,d.jsx)(u.Fragment,{})},Xn=function(){return(0,d.jsxs)(u.Fragment,{children:[(0,d.jsx)(In,{}),(0,d.jsx)(En,{}),(0,d.jsx)(zn,{}),(0,d.jsx)(Gn,{})]})},Yn=function(){return(0,d.jsxs)(c.Layout,{style:{minHeight:"100vh"},children:[(0,d.jsx)(c.Affix,{children:(0,d.jsx)(c.Card,{style:{marginBottom:12,borderRadius:"0px 0px 16px 16px"},bodyStyle:{padding:16},bordered:!1,children:(0,d.jsx)(on,{})})}),(0,d.jsx)(c.Layout,{style:{padding:12},children:(0,d.jsx)(c.Row,{gutter:[24,24],children:(0,d.jsx)(c.Col,{span:24,children:(0,d.jsxs)(a.Switch,{children:[(0,d.jsx)(a.Route,{exact:!0,path:"/welcome",component:un}),(0,d.jsx)(a.Route,{exact:!0,path:"/dashboard/:pageId?",component:ln}),(0,d.jsx)(f,{exact:!0,path:"/app/:appId",component:fn}),(0,d.jsx)(a.Route,{exact:!0,path:"/store",component:wn}),(0,d.jsx)(a.Route,{exact:!0,path:"/store/:appId",component:Tn}),(0,d.jsx)(a.Redirect,{from:"*",to:"/welcome"})]})})})}),(0,d.jsx)(Xn,{})]})};BigInt.prototype.toJSON=function(){return this.toString()};var Qn={serializableCheck:{isSerializable:function(e){return"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||function(e){if(null===e)return!1;var r=Object.getPrototypeOf(e);return null!==r&&null===Object.getPrototypeOf(r)}(e)||"bigint"===typeof e}}},$n="flags",et=(0,j.createAsyncThunk)("".concat($n,"/setVisited"),function(){var e=(0,w.Z)(g().mark((function e(r,n){var t,a,s,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.getState,a=t(),s=a.wallet.address,c=a.flags,l.account.isAddress(s)){e.next=4;break}throw new Error("Wallet is not connected yet");case 4:return e.abrupt("return",(0,i.Z)((0,i.Z)({},c),{},{visited:r}));case 5:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()),rt=(0,j.createSlice)({name:$n,initialState:{visited:!0},reducers:{},extraReducers:function(e){e.addCase(et.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)}))}}).reducer,nt="mints",tt=(0,j.createAsyncThunk)("".concat(nt,"/getMint"),function(){var e=(0,w.Z)(g().mark((function e(r,n){var t,a,s,c,i,o,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.address,a=r.force,s=n.getState,l.account.isAddress(t)){e.next=4;break}throw new Error("Invalid mint address");case 4:if(a){e.next=8;break}if(c=s(),!(i=c.accounts[t])){e.next=8;break}return e.abrupt("return",(0,E.Z)({},t,i));case 8:return o=window.sentre.splt,e.next=11,o.getMintData(t);case 11:return u=e.sent,e.abrupt("return",(0,E.Z)({},t,u));case 13:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()),at=(0,j.createAsyncThunk)("".concat(nt,"/upsetMint"),function(){var e=(0,w.Z)(g().mark((function e(r){var n,t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.address,t=r.data,l.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:if(t){e.next=5;break}throw new Error("Data is empty");case 5:return e.abrupt("return",(0,E.Z)({},n,t));case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),st=(0,j.createAsyncThunk)("".concat(nt,"/deleteMint"),function(){var e=(0,w.Z)(g().mark((function e(r){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.address,l.account.isAddress(n)){e.next=3;break}throw new Error("Invalid address");case 3:return e.abrupt("return",{address:n});case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),ct=(0,j.createSlice)({name:nt,initialState:{},reducers:{},extraReducers:function(e){e.addCase(tt.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(at.fulfilled,(function(e,r){var n=r.payload;Object.assign(e,n)})).addCase(st.fulfilled,(function(e,r){delete e[r.payload.address]}))}}).reducer,it=(0,j.configureStore)({middleware:function(e){return e(Qn)},devTools:!1,reducer:{ui:hr,flags:rt,page:Mr,wallet:U,accounts:Wn,mints:ct,pools:qn,search:tn}}),ot=function(e){e&&e instanceof Function&&n.e(255).then(n.bind(n,48255)).then((function(r){var n=r.getCLS,t=r.getFID,a=r.getFCP,s=r.getLCP,c=r.getTTFB;n(e),t(e),a(e),s(e),c(e)}))};(0,t.render)((0,d.jsx)(s.Provider,{store:it,children:(0,d.jsx)(c.ConfigProvider,{prefixCls:"sentre",children:(0,d.jsx)(a.BrowserRouter,{children:(0,d.jsx)(Yn,{})})})}),document.getElementById("root")),ot()},76126:function(e,r,n){"use strict";e.exports=n.p+"static/media/coin98.d4a8d3199bc374898921.png"},94312:function(e,r,n){"use strict";e.exports=n.p+"static/media/phantom.1078280bdfb21865925d.png"},63156:function(e,r,n){"use strict";e.exports=n.p+"static/media/sen-full.658f05fff127284973db.png"},53738:function(e,r,n){"use strict";e.exports=n.p+"static/media/sen-lite.210754c276178acec395.png"},4657:function(e,r,n){"use strict";e.exports=n.p+"static/media/sollet.7634ae143af8347b13c1.png"},35883:function(){},46601:function(){},89214:function(){},5696:function(){},85568:function(){},64009:function(){},42611:function(){},88795:function(){},89408:function(){},57600:function(){},21724:function(){},62678:function(){},25819:function(){},52361:function(){},94616:function(){},55024:function(){}}]);
//# sourceMappingURL=83.ccc98ace.chunk.js.map